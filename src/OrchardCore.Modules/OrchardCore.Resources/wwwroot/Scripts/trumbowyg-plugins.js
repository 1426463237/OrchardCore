/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

/* ===========================================================
 * trumbowyg.base64.js v1.0
 * Base64 plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Cyril Biencourt (lizardK)
 */

(function ($) {
    'use strict';

    var isSupported = function () {
        return typeof FileReader !== 'undefined';
    };

    var isValidImage = function (type) {
        return /^data:image\/[a-z]?/i.test(type);
    };

    $.extend(true, $.trumbowyg, {
        langs: {
            // jshint camelcase:false
            en: {
                base64: 'Image as base64',
                file: 'File',
                errFileReaderNotSupported: 'FileReader is not supported by your browser.',
                errInvalidImage: 'Invalid image file.'
            },
            da: {
                base64: 'Billede som base64',
                file: 'Fil',
                errFileReaderNotSupported: 'FileReader er ikke understøttet af din browser.',
                errInvalidImage: 'Ugyldig billedfil.'
            },
            fr: {
                base64: 'Image en base64',
                file: 'Fichier'
            },
            cs: {
                base64: 'Vložit obrázek',
                file: 'Soubor'
            },
            zh_cn: {
                base64: '图片（Base64编码）',
                file: '文件'
            },
            nl: {
                base64: 'Afbeelding inline',
                file: 'Bestand',
                errFileReaderNotSupported: 'Uw browser ondersteunt deze functionaliteit niet.',
                errInvalidImage: 'De gekozen afbeelding is ongeldig.'
            },
            ru: {
                base64: 'Изображение как код в base64',
                file: 'Файл',
                errFileReaderNotSupported: 'FileReader не поддерживается вашим браузером.',
                errInvalidImage: 'Недопустимый файл изображения.'
            },
            ja: {
                base64: '画像 (Base64形式)',
                file: 'ファイル',
                errFileReaderNotSupported: 'あなたのブラウザーはFileReaderをサポートしていません',
                errInvalidImage: '画像形式が正しくありません'
            },
            tr: {
                base64: 'Base64 olarak resim',
                file: 'Dosya',
                errFileReaderNotSupported: 'FileReader tarayıcınız tarafından desteklenmiyor.',
                errInvalidImage: 'Geçersiz resim dosyası.'
            },
            zh_tw: {
                base64: '圖片(base64編碼)',
                file: '檔案',
                errFileReaderNotSupported: '你的瀏覽器不支援FileReader',
                errInvalidImage: '不正確的檔案格式'
             },
        },
        // jshint camelcase:true

        plugins: {
            base64: {
                shouldInit: isSupported,
                init: function (trumbowyg) {
                    var btnDef = {
                        isSupported: isSupported,
                        fn: function () {
                            trumbowyg.saveRange();

                            var file;
                            var $modal = trumbowyg.openModalInsert(
                                // Title
                                trumbowyg.lang.base64,

                                // Fields
                                {
                                    file: {
                                        type: 'file',
                                        required: true,
                                        attributes: {
                                            accept: 'image/*'
                                        }
                                    },
                                    alt: {
                                        label: 'description',
                                        value: trumbowyg.getRangeText()
                                    }
                                },

                                // Callback
                                function (values) {
                                    var fReader = new FileReader();

                                    fReader.onloadend = function (e) {
                                        if (isValidImage(e.target.result)) {
                                            trumbowyg.execCmd('insertImage', fReader.result, false, true);
                                            $(['img[src="', fReader.result, '"]:not([alt])'].join(''), trumbowyg.$box).attr('alt', values.alt);
                                            trumbowyg.closeModal();
                                        } else {
                                            trumbowyg.addErrorOnModalField(
                                                $('input[type=file]', $modal),
                                                trumbowyg.lang.errInvalidImage
                                            );
                                        }
                                    };

                                    fReader.readAsDataURL(file);
                                }
                            );

                            $('input[type=file]').on('change', function (e) {
                                file = e.target.files[0];
                            });
                        }
                    };

                    trumbowyg.addBtnDef('base64', btnDef);
                }
            }
        }
    });
})(jQuery);

!function(e){"use strict";var a=function(){return"undefined"!=typeof FileReader},r=function(e){return/^data:image\/[a-z]?/i.test(e)};e.extend(!0,e.trumbowyg,{langs:{en:{base64:"Image as base64",file:"File",errFileReaderNotSupported:"FileReader is not supported by your browser.",errInvalidImage:"Invalid image file."},da:{base64:"Billede som base64",file:"Fil",errFileReaderNotSupported:"FileReader er ikke understøttet af din browser.",errInvalidImage:"Ugyldig billedfil."},fr:{base64:"Image en base64",file:"Fichier"},cs:{base64:"Vložit obrázek",file:"Soubor"},zh_cn:{base64:"图片（Base64编码）",file:"文件"},nl:{base64:"Afbeelding inline",file:"Bestand",errFileReaderNotSupported:"Uw browser ondersteunt deze functionaliteit niet.",errInvalidImage:"De gekozen afbeelding is ongeldig."},ru:{base64:"Изображение как код в base64",file:"Файл",errFileReaderNotSupported:"FileReader не поддерживается вашим браузером.",errInvalidImage:"Недопустимый файл изображения."},ja:{base64:"画像 (Base64形式)",file:"ファイル",errFileReaderNotSupported:"あなたのブラウザーはFileReaderをサポートしていません",errInvalidImage:"画像形式が正しくありません"},tr:{base64:"Base64 olarak resim",file:"Dosya",errFileReaderNotSupported:"FileReader tarayıcınız tarafından desteklenmiyor.",errInvalidImage:"Geçersiz resim dosyası."},zh_tw:{base64:"圖片(base64編碼)",file:"檔案",errFileReaderNotSupported:"你的瀏覽器不支援FileReader",errInvalidImage:"不正確的檔案格式"}},plugins:{base64:{shouldInit:a,init:function(i){var t={isSupported:a,fn:function(){i.saveRange();var a,t=i.openModalInsert(i.lang.base64,{file:{type:"file",required:!0,attributes:{accept:"image/*"}},alt:{label:"description",value:i.getRangeText()}},function(l){var n=new FileReader;n.onloadend=function(a){r(a.target.result)?(i.execCmd("insertImage",n.result,!1,!0),e(['img[src="',n.result,'"]:not([alt])'].join(""),i.$box).attr("alt",l.alt),i.closeModal()):i.addErrorOnModalField(e("input[type=file]",t),i.lang.errInvalidImage)},n.readAsDataURL(a)});e("input[type=file]").on("change",function(e){a=e.target.files[0]})}};i.addBtnDef("base64",t)}}}})}(jQuery);
/* ===========================================================
 * trumbowyg.colors.js v1.2
 * Colors picker plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Alexandre Demode (Alex-D)
 *          Twitter : @AlexandreDemode
 *          Website : alex-d.fr
 */

(function ($) {
    'use strict';

    $.extend(true, $.trumbowyg, {
        langs: {
            // jshint camelcase:false
            cs: {
                foreColor: 'Barva textu',
                backColor: 'Barva pozadí'
            },
            en: {
                foreColor: 'Text color',
                backColor: 'Background color'
            },
            da: {
                foreColor: 'Tekstfarve',
                backColor: 'Baggrundsfarve'
            },
            fr: {
                foreColor: 'Couleur du texte',
                backColor: 'Couleur de fond'
            },
            de: {
                foreColor: 'Textfarbe',
                backColor: 'Hintergrundfarbe'
            },
            nl: {
                foreColor: 'Tekstkleur',
                backColor: 'Achtergrondkleur'
            },
            sk: {
                foreColor: 'Farba textu',
                backColor: 'Farba pozadia'
            },
            zh_cn: {
                foreColor: '文字颜色',
                backColor: '背景颜色'
            },
            zh_tw: {
                foreColor: '文字顏色',
                backColor: '背景顏色'
            },
            ru: {
                foreColor: 'Цвет текста',
                backColor: 'Цвет выделения текста'
            },
            ja: {
                foreColor: '文字色',
                backColor: '背景色'
            },
            tr: {
                foreColor: 'Yazı rengi',
                backColor: 'Arkaplan rengi'
            }
        }
    });

    // jshint camelcase:true


    function hex(x) {
        return ('0' + parseInt(x).toString(16)).slice(-2);
    }

    function colorToHex(rgb) {
        if (rgb.search('rgb') === -1) {
            return rgb.replace('#', '');
        } else if (rgb === 'rgba(0, 0, 0, 0)') {
            return 'transparent';
        } else {
            rgb = rgb.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);
            return hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
        }
    }

    function colorTagHandler(element, trumbowyg) {
        var tags = [];

        if (!element.style) {
            return tags;
        }

        // background color
        if (element.style.backgroundColor !== '') {
            var backColor = colorToHex(element.style.backgroundColor);
            if (trumbowyg.o.plugins.colors.colorList.indexOf(backColor) >= 0) {
                tags.push('backColor' + backColor);
            } else {
                tags.push('backColorFree');
            }
        }

        // text color
        var foreColor;
        if (element.style.color !== '') {
            foreColor = colorToHex(element.style.color);
        } else if (element.hasAttribute('color')) {
            foreColor = colorToHex(element.getAttribute('color'));
        }
        if (foreColor) {
            if (trumbowyg.o.plugins.colors.colorList.indexOf(foreColor) >= 0) {
                tags.push('foreColor' + foreColor);
            } else {
                tags.push('foreColorFree');
            }
        }

        return tags;
    }

    var defaultOptions = {
        colorList: ['ffffff', '000000', 'eeece1', '1f497d', '4f81bd', 'c0504d', '9bbb59', '8064a2', '4bacc6', 'f79646', 'ffff00', 'f2f2f2', '7f7f7f', 'ddd9c3', 'c6d9f0', 'dbe5f1', 'f2dcdb', 'ebf1dd', 'e5e0ec', 'dbeef3', 'fdeada', 'fff2ca', 'd8d8d8', '595959', 'c4bd97', '8db3e2', 'b8cce4', 'e5b9b7', 'd7e3bc', 'ccc1d9', 'b7dde8', 'fbd5b5', 'ffe694', 'bfbfbf', '3f3f3f', '938953', '548dd4', '95b3d7', 'd99694', 'c3d69b', 'b2a2c7', 'b7dde8', 'fac08f', 'f2c314', 'a5a5a5', '262626', '494429', '17365d', '366092', '953734', '76923c', '5f497a', '92cddc', 'e36c09', 'c09100', '7f7f7f', '0c0c0c', '1d1b10', '0f243e', '244061', '632423', '4f6128', '3f3151', '31859b', '974806', '7f6000']
    };

    // Add all colors in two dropdowns
    $.extend(true, $.trumbowyg, {
        plugins: {
            color: {
                init: function (trumbowyg) {
                    trumbowyg.o.plugins.colors = trumbowyg.o.plugins.colors || defaultOptions;
                    var foreColorBtnDef = {
                            dropdown: buildDropdown('foreColor', trumbowyg)
                        },
                        backColorBtnDef = {
                            dropdown: buildDropdown('backColor', trumbowyg)
                        };

                    trumbowyg.addBtnDef('foreColor', foreColorBtnDef);
                    trumbowyg.addBtnDef('backColor', backColorBtnDef);
                },
                tagHandler: colorTagHandler
            }
        }
    });

    function buildDropdown(fn, trumbowyg) {
        var dropdown = [];

        $.each(trumbowyg.o.plugins.colors.colorList, function (i, color) {
            var btn = fn + color,
                btnDef = {
                    fn: fn,
                    forceCss: true,
                    param: '#' + color,
                    style: 'background-color: #' + color + ';'
                };
            trumbowyg.addBtnDef(btn, btnDef);
            dropdown.push(btn);
        });

        var removeColorButtonName = fn + 'Remove',
            removeColorBtnDef = {
                fn: 'removeFormat',
                param: fn,
                style: 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);'
            };
        trumbowyg.addBtnDef(removeColorButtonName, removeColorBtnDef);
        dropdown.push(removeColorButtonName);

        // add free color btn
        var freeColorButtonName = fn + 'Free',
            freeColorBtnDef = {
                fn: function () {
                    trumbowyg.openModalInsert(trumbowyg.lang[fn],
                        {
                            color: {
                                label: fn,
                                forceCss: true,
                                type: 'color',
                                value: '#FFFFFF'
                            }
                        },
                        // callback
                        function (values) {
                            trumbowyg.execCmd(fn, values.color);
                            return true;
                        }
                    );
                },
                text: '#',
                // style adjust for displaying the text
                style: 'text-indent: 0;line-height: 20px;padding: 0 5px;'
            };
        trumbowyg.addBtnDef(freeColorButtonName, freeColorBtnDef);
        dropdown.push(freeColorButtonName);

        return dropdown;
    }
})(jQuery);

!function(o){"use strict";function r(o){return("0"+parseInt(o).toString(16)).slice(-2)}function e(o){return o.search("rgb")===-1?o.replace("#",""):"rgba(0, 0, 0, 0)"===o?"transparent":(o=o.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),r(o[1])+r(o[2])+r(o[3]))}function a(o,r){var a=[];if(!o.style)return a;if(""!==o.style.backgroundColor){var f=e(o.style.backgroundColor);r.o.plugins.colors.colorList.indexOf(f)>=0?a.push("backColor"+f):a.push("backColorFree")}var c;return""!==o.style.color?c=e(o.style.color):o.hasAttribute("color")&&(c=e(o.getAttribute("color"))),c&&(r.o.plugins.colors.colorList.indexOf(c)>=0?a.push("foreColor"+c):a.push("foreColorFree")),a}function f(r,e){var a=[];o.each(e.o.plugins.colors.colorList,function(o,f){var c=r+f,l={fn:r,forceCss:!0,param:"#"+f,style:"background-color: #"+f+";"};e.addBtnDef(c,l),a.push(c)});var f=r+"Remove",c={fn:"removeFormat",param:r,style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);"};e.addBtnDef(f,c),a.push(f);var l=r+"Free",d={fn:function(){e.openModalInsert(e.lang[r],{color:{label:r,forceCss:!0,type:"color",value:"#FFFFFF"}},function(o){return e.execCmd(r,o.color),!0})},text:"#",style:"text-indent: 0;line-height: 20px;padding: 0 5px;"};return e.addBtnDef(l,d),a.push(l),a}o.extend(!0,o.trumbowyg,{langs:{cs:{foreColor:"Barva textu",backColor:"Barva pozadí"},en:{foreColor:"Text color",backColor:"Background color"},da:{foreColor:"Tekstfarve",backColor:"Baggrundsfarve"},fr:{foreColor:"Couleur du texte",backColor:"Couleur de fond"},de:{foreColor:"Textfarbe",backColor:"Hintergrundfarbe"},nl:{foreColor:"Tekstkleur",backColor:"Achtergrondkleur"},sk:{foreColor:"Farba textu",backColor:"Farba pozadia"},zh_cn:{foreColor:"文字颜色",backColor:"背景颜色"},zh_tw:{foreColor:"文字顏色",backColor:"背景顏色"},ru:{foreColor:"Цвет текста",backColor:"Цвет выделения текста"},ja:{foreColor:"文字色",backColor:"背景色"},tr:{foreColor:"Yazı rengi",backColor:"Arkaplan rengi"}}});var c={colorList:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ffff00","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"]};o.extend(!0,o.trumbowyg,{plugins:{color:{init:function(o){o.o.plugins.colors=o.o.plugins.colors||c;var r={dropdown:f("foreColor",o)},e={dropdown:f("backColor",o)};o.addBtnDef("foreColor",r),o.addBtnDef("backColor",e)},tagHandler:a}}})}(jQuery);
(function ($) {
    'use strict';

    $.extend(true, $.trumbowyg, {
        langs: {
            // jshint camelcase:false
            en: {
                fontFamily: 'Font'
            },
            da: {
                fontFamily: 'Skrifttype'
            },
            fr: {
                fontFamily: 'Police'
            },
            de: {
                fontFamily: 'Schriftart'
            },
            nl: {
                fontFamily: 'Lettertype'
            },
            tr: {
                fontFamily: 'Yazı Tipi'
            },
            zh_tw:{
                fontFamily: '字體',
            }
        }
    });
    // jshint camelcase:true

    var defaultOptions = {
        fontList: [
            {name: 'Arial', family: 'Arial, Helvetica, sans-serif'},
            {name: 'Arial Black', family: '\'Arial Black\', Gadget, sans-serif'},
            {name: 'Comic Sans', family: '\'Comic Sans MS\', Textile, cursive, sans-serif'},
            {name: 'Courier New', family: '\'Courier New\', Courier, monospace'},
            {name: 'Georgia', family: 'Georgia, serif'},
            {name: 'Impact', family: 'Impact, Charcoal, sans-serif'},
            {name: 'Lucida Console', family: '\'Lucida Console\', Monaco, monospace'},
            {name: 'Lucida Sans', family: '\'Lucida Sans Uncide\', \'Lucida Grande\', sans-serif'},
            {name: 'Palatino', family: '\'Palatino Linotype\', \'Book Antiqua\', Palatino, serif'},
            {name: 'Tahoma', family: 'Tahoma, Geneva, sans-serif'},
            {name: 'Times New Roman', family: '\'Times New Roman\', Times, serif'},
            {name: 'Trebuchet', family: '\'Trebuchet MS\', Helvetica, sans-serif'},
            {name: 'Verdana', family: 'Verdana, Geneva, sans-serif'}
        ]
    };

    // Add dropdown with web safe fonts
    $.extend(true, $.trumbowyg, {
        plugins: {
            fontfamily: {
                init: function (trumbowyg) {
                    trumbowyg.o.plugins.fontfamily = trumbowyg.o.plugins.fontfamily || defaultOptions;
                    trumbowyg.addBtnDef('fontfamily', {
                        dropdown: buildDropdown(trumbowyg),
                        hasIcon: false,
                        text: trumbowyg.lang.fontFamily
                    });
                }
            }
        }
    });

    function buildDropdown(trumbowyg) {
        var dropdown = [];

        $.each(trumbowyg.o.plugins.fontfamily.fontList, function (index, font) {
            trumbowyg.addBtnDef('fontfamily_' + index, {
                title: '<span style="font-family: ' + font.family + ';">' + font.name + '</span>',
                hasIcon: false,
                fn: function () {
                    trumbowyg.execCmd('fontName', font.family, true);
                }
            });
            dropdown.push('fontfamily_' + index);
        });

        return dropdown;
    }
})(jQuery);

!function(a){"use strict";function n(n){var i=[];return a.each(n.o.plugins.fontfamily.fontList,function(a,e){n.addBtnDef("fontfamily_"+a,{title:'<span style="font-family: '+e.family+';">'+e.name+"</span>",hasIcon:!1,fn:function(){n.execCmd("fontName",e.family,!0)}}),i.push("fontfamily_"+a)}),i}a.extend(!0,a.trumbowyg,{langs:{en:{fontFamily:"Font"},da:{fontFamily:"Skrifttype"},fr:{fontFamily:"Police"},de:{fontFamily:"Schriftart"},nl:{fontFamily:"Lettertype"},tr:{fontFamily:"Yazı Tipi"},zh_tw:{fontFamily:"字體"}}});var i={fontList:[{name:"Arial",family:"Arial, Helvetica, sans-serif"},{name:"Arial Black",family:"'Arial Black', Gadget, sans-serif"},{name:"Comic Sans",family:"'Comic Sans MS', Textile, cursive, sans-serif"},{name:"Courier New",family:"'Courier New', Courier, monospace"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, Charcoal, sans-serif"},{name:"Lucida Console",family:"'Lucida Console', Monaco, monospace"},{name:"Lucida Sans",family:"'Lucida Sans Uncide', 'Lucida Grande', sans-serif"},{name:"Palatino",family:"'Palatino Linotype', 'Book Antiqua', Palatino, serif"},{name:"Tahoma",family:"Tahoma, Geneva, sans-serif"},{name:"Times New Roman",family:"'Times New Roman', Times, serif"},{name:"Trebuchet",family:"'Trebuchet MS', Helvetica, sans-serif"},{name:"Verdana",family:"Verdana, Geneva, sans-serif"}]};a.extend(!0,a.trumbowyg,{plugins:{fontfamily:{init:function(a){a.o.plugins.fontfamily=a.o.plugins.fontfamily||i,a.addBtnDef("fontfamily",{dropdown:n(a),hasIcon:!1,text:a.lang.fontFamily})}}}})}(jQuery);
(function ($) {
    'use strict';

    $.extend(true, $.trumbowyg, {
        langs: {
            // jshint camelcase:false
            en: {
                fontsize: 'Font size',
                fontsizes: {
                    'x-small': 'Extra small',
                    'small': 'Small',
                    'medium': 'Regular',
                    'large': 'Large',
                    'x-large': 'Extra large',
                    'custom': 'Custom'
                },
                fontCustomSize: {
                    title: 'Custom Font Size',
                    label: 'Font Size',
                    value: '48px'
                }
            },
            es: {
                fontsize: 'Tamaño de Fuente',
                fontsizes: {
                    'x-small': 'Extra pequeña',
                    'small': 'Pegueña',
                    'medium': 'Regular',
                    'large': 'Grande',
                    'x-large': 'Extra Grande',
                    'custom': 'Customizada'
                },
                fontCustomSize: {
                    title: 'Tamaño de Fuente Customizada',
                    label: 'Tamaño de Fuente',
                    value: '48px'
                }
            },
            da: {
                fontsize: 'Skriftstørrelse',
                fontsizes: {
                    'x-small': 'Ekstra lille',
                    'small': 'Lille',
                    'medium': 'Normal',
                    'large': 'Stor',
                    'x-large': 'Ekstra stor',
                    'custom': 'Brugerdefineret'
                }
            },
            fr: {
                fontsize: 'Taille de la police',
                fontsizes: {
                    'x-small': 'Très petit',
                    'small': 'Petit',
                    'medium': 'Normal',
                    'large': 'Grand',
                    'x-large': 'Très grand',
                    'custom': 'Douane'
                }
            },
            de: {
                fontsize: 'Font size',
                fontsizes: {
                    'x-small': 'Sehr klein',
                    'small': 'Klein',
                    'medium': 'Normal',
                    'large': 'Groß',
                    'x-large': 'Sehr groß',
                    'custom': 'Benutzerdefiniert'
                },
                fontCustomSize: {
                    title: 'Benutzerdefinierte Schriftgröße',
                    label: 'Schriftgröße',
                    value: '48px'
                }
            },
            nl: {
                fontsize: 'Lettergrootte',
                fontsizes: {
                    'x-small': 'Extra klein',
                    'small': 'Klein',
                    'medium': 'Normaal',
                    'large': 'Groot',
                    'x-large': 'Extra groot',
                    'custom': 'Tilpasset'
                }
            },
            tr: {
                fontsize: 'Yazı Boyutu',
                fontsizes: {
                    'x-small': 'Çok Küçük',
                    'small': 'Küçük',
                    'medium': 'Normal',
                    'large': 'Büyük',
                    'x-large': 'Çok Büyük',
                    'custom': 'Görenek'
                }
            },
            zh_tw: {
                fontsize: '字體大小',
                fontsizes: {
                    'x-small': '最小',
                    'small': '小',
                    'medium': '中',
                    'large': '大',
                    'x-large': '最大',
                    'custom': '自訂大小',
                },
                fontCustomSize: {
                    title: '自訂義字體大小',
                    label: '字體大小',
                    value: '48px'
                }
            }
        }
    });
    // jshint camelcase:true

    // Add dropdown with font sizes
    $.extend(true, $.trumbowyg, {
        plugins: {
            fontsize: {
                init: function (trumbowyg) {
                    trumbowyg.addBtnDef('fontsize', {
                        dropdown: buildDropdown(trumbowyg)
                    });
                }
            }
        }
    });

    function buildDropdown(trumbowyg) {
        var dropdown = [];
        var sizes = ['x-small', 'small', 'medium', 'large', 'x-large'];

        $.each(sizes, function (index, size) {
            trumbowyg.addBtnDef('fontsize_' + size, {
                text: '<span style="font-size: ' + size + ';">' + trumbowyg.lang.fontsizes[size] + '</span>',
                hasIcon: false,
                fn: function () {
                    trumbowyg.execCmd('fontSize', index + 1, true);
                }
            });
            dropdown.push('fontsize_' + size);
        });

        var freeSizeButtonName = 'fontsize_custom',
            freeSizeBtnDef = {
                fn: function () {
                    trumbowyg.openModalInsert(trumbowyg.lang.fontCustomSize.title,
                        {
                            size: {
                                label: trumbowyg.lang.fontCustomSize.label,
                                value: trumbowyg.lang.fontCustomSize.value
                            }
                        },
                        function (values) {
                            var text = trumbowyg.range.startContainer.parentElement;
                            var selectedText = trumbowyg.getRangeText();
                            if ($(text).html() === selectedText) {
                                $(text).css('font-size', values.size);
                            } else {
                                trumbowyg.range.deleteContents();
                                var html = '<span style="font-size: ' + values.size + ';">' + selectedText + '</span>';
                                var node = $(html)[0];
                                trumbowyg.range.insertNode(node);
                            }
                            trumbowyg.saveRange();
                            return true;
                        }
                    );
                },
                text: '<span style="font-size: medium;">' + trumbowyg.lang.fontsizes.custom + '</span>',
                hasIcon: false
            };
        trumbowyg.addBtnDef(freeSizeButtonName, freeSizeBtnDef);
        dropdown.push(freeSizeButtonName);

        return dropdown;
    }
})(jQuery);

!function(e){"use strict";function t(t){var a=[],l=["x-small","small","medium","large","x-large"];e.each(l,function(e,l){t.addBtnDef("fontsize_"+l,{text:'<span style="font-size: '+l+';">'+t.lang.fontsizes[l]+"</span>",hasIcon:!1,fn:function(){t.execCmd("fontSize",e+1,!0)}}),a.push("fontsize_"+l)});var s="fontsize_custom",n={fn:function(){t.openModalInsert(t.lang.fontCustomSize.title,{size:{label:t.lang.fontCustomSize.label,value:t.lang.fontCustomSize.value}},function(a){var l=t.range.startContainer.parentElement,s=t.getRangeText();if(e(l).html()===s)e(l).css("font-size",a.size);else{t.range.deleteContents();var n='<span style="font-size: '+a.size+';">'+s+"</span>",o=e(n)[0];t.range.insertNode(o)}return t.saveRange(),!0})},text:'<span style="font-size: medium;">'+t.lang.fontsizes.custom+"</span>",hasIcon:!1};return t.addBtnDef(s,n),a.push(s),a}e.extend(!0,e.trumbowyg,{langs:{en:{fontsize:"Font size",fontsizes:{"x-small":"Extra small",small:"Small",medium:"Regular",large:"Large","x-large":"Extra large",custom:"Custom"},fontCustomSize:{title:"Custom Font Size",label:"Font Size",value:"48px"}},es:{fontsize:"Tamaño de Fuente",fontsizes:{"x-small":"Extra pequeña",small:"Pegueña",medium:"Regular",large:"Grande","x-large":"Extra Grande",custom:"Customizada"},fontCustomSize:{title:"Tamaño de Fuente Customizada",label:"Tamaño de Fuente",value:"48px"}},da:{fontsize:"Skriftstørrelse",fontsizes:{"x-small":"Ekstra lille",small:"Lille",medium:"Normal",large:"Stor","x-large":"Ekstra stor",custom:"Brugerdefineret"}},fr:{fontsize:"Taille de la police",fontsizes:{"x-small":"Très petit",small:"Petit",medium:"Normal",large:"Grand","x-large":"Très grand",custom:"Douane"}},de:{fontsize:"Font size",fontsizes:{"x-small":"Sehr klein",small:"Klein",medium:"Normal",large:"Groß","x-large":"Sehr groß",custom:"Benutzerdefiniert"},fontCustomSize:{title:"Benutzerdefinierte Schriftgröße",label:"Schriftgröße",value:"48px"}},nl:{fontsize:"Lettergrootte",fontsizes:{"x-small":"Extra klein",small:"Klein",medium:"Normaal",large:"Groot","x-large":"Extra groot",custom:"Tilpasset"}},tr:{fontsize:"Yazı Boyutu",fontsizes:{"x-small":"Çok Küçük",small:"Küçük",medium:"Normal",large:"Büyük","x-large":"Çok Büyük",custom:"Görenek"}},zh_tw:{fontsize:"字體大小",fontsizes:{"x-small":"最小",small:"小",medium:"中",large:"大","x-large":"最大",custom:"自訂大小"},fontCustomSize:{title:"自訂義字體大小",label:"字體大小",value:"48px"}}}}),e.extend(!0,e.trumbowyg,{plugins:{fontsize:{init:function(e){e.addBtnDef("fontsize",{dropdown:t(e)})}}}})}(jQuery);
/*/* ===========================================================
 * trumbowyg.history.js v1.0
 * history plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Sven Dunemann [dunemann@forelabs.eu]
 */

(function ($) {
    'use strict';
    $.extend(true, $.trumbowyg, {
        langs: {
            de: {
                history: {
                    redo: 'Wiederholen',
                    undo: 'Rückgängig'
                }
            },
            en: {
                history: {
                    redo: 'Redo',
                    undo: 'Undo'
                }
            },
            da: {
                history: {
                    redo: 'Annuller fortryd',
                    undo: 'Fortryd'
                }
            },
            fr: {
                history: {
                    redo: 'Annuler',
                    undo: 'Rétablir'
                }
            },
            zh_tw: {
               history: {
                   redo: '重做',
                   undo: '復原'
               }
            }
        },
        plugins: {
            history: {
                init: function (t) {
                    t.o.plugins.history = $.extend(true, {
                        _stack: [],
                        _index: -1,
                        _focusEl: undefined
                    }, t.o.plugins.history || {});

                    var btnBuildDefRedo = {
                        title: t.lang.history.redo,
                        ico: 'redo',
                        key: 'Y',
                        fn: function () {
                            if (t.o.plugins.history._index < t.o.plugins.history._stack.length - 1) {
                                t.o.plugins.history._index += 1;
                                var index = t.o.plugins.history._index;
                                var newState = t.o.plugins.history._stack[index];

                                t.execCmd('html', newState);
                                // because of some semantic optimisations we have to save the state back
                                // to history
                                t.o.plugins.history._stack[index] = t.$ed.html();

                                carretToEnd();
                                toggleButtonStates();
                            }
                        }
                    };

                    var btnBuildDefUndo = {
                        title: t.lang.history.undo,
                        ico: 'undo',
                        key: 'Z',
                        fn: function () {
                            if (t.o.plugins.history._index > 0) {
                                t.o.plugins.history._index -= 1;
                                var index = t.o.plugins.history._index,
                                    newState = t.o.plugins.history._stack[index];

                                t.execCmd('html', newState);
                                // because of some semantic optimisations we have to save the state back
                                // to history
                                t.o.plugins.history._stack[index] = t.$ed.html();

                                carretToEnd();
                                toggleButtonStates();
                            }
                        }
                    };

                    var pushToHistory = function () {
                        var index = t.o.plugins.history._index,
                            stack = t.o.plugins.history._stack,
                            latestState = stack.slice(-1)[0] || '<p></p>',
                            prevState = stack[index],
                            newState = t.$ed.html(),
                            focusEl = t.doc.getSelection().focusNode,
                            focusElText = '',
                            latestStateTagsList,
                            newStateTagsList,
                            prevFocusEl = t.o.plugins.history._focusEl;

                        latestStateTagsList = $('<div>' + latestState + '</div>').find('*').map(function () {
                            return this.localName;
                        });
                        newStateTagsList = $('<div>' + newState + '</div>').find('*').map(function () {
                            return this.localName;
                        });
                        if (focusEl) {
                            t.o.plugins.history._focusEl = focusEl;
                            focusElText = focusEl.outerHTML || focusEl.textContent;
                        }

                        if (newState !== prevState) {
                            // a new stack entry is defined when current insert ends on a whitespace character
                            // or count of node elements has been changed
                            // or focused element differs from previous one
                            if (focusElText.slice(-1).match(/\s/) ||
                                !arraysAreIdentical(latestStateTagsList, newStateTagsList) ||
                                t.o.plugins.history._index <= 0 || focusEl !== prevFocusEl)
                            {
                                t.o.plugins.history._index += 1;
                                // remove newer entries in history when something new was added
                                // because timeline was changes with interaction
                                t.o.plugins.history._stack = stack.slice(
                                    0, t.o.plugins.history._index
                                );
                                // now add new state to modifed history
                                t.o.plugins.history._stack.push(newState);
                            } else {
                                // modify last stack entry
                                t.o.plugins.history._stack[index] = newState;
                            }

                            toggleButtonStates();
                        }
                    };

                    var toggleButtonStates = function () {
                        var index = t.o.plugins.history._index,
                            stackSize = t.o.plugins.history._stack.length,
                            undoState = (index > 0),
                            redoState = (stackSize !== 0 && index !== stackSize - 1);

                        toggleButtonState('historyUndo', undoState);
                        toggleButtonState('historyRedo', redoState);
                    };

                    var toggleButtonState = function (btn, enable) {
                        var button = t.$box.find('.trumbowyg-' + btn + '-button');

                        if (enable) {
                            button.removeClass('trumbowyg-disable');
                        } else if (!button.hasClass('trumbowyg-disable')) {
                            button.addClass('trumbowyg-disable');
                        }
                    };

                    var arraysAreIdentical = function (a, b) {
                        if (a === b) {
                            return true;
                        }
                        if (a == null || b == null) {
                            return false;
                        }
                        if (a.length !== b.length) {
                            return false;
                        }

                        for (var i = 0; i < a.length; i += 1) {
                            if (a[i] !== b[i]) {
                                return false;
                            }
                        }
                        return true;
                    };

                    var carretToEnd = function () {
                        var node = t.doc.getSelection().focusNode,
                            range = t.doc.createRange();

                        if (node.childNodes.length > 0) {
                            range.setStartAfter(node.childNodes[node.childNodes.length - 1]);
                            range.setEndAfter(node.childNodes[node.childNodes.length - 1]);
                            t.doc.getSelection().removeAllRanges();
                            t.doc.getSelection().addRange(range);
                        }
                    };

                    t.$c.on('tbwinit tbwchange', pushToHistory);

                    t.addBtnDef('historyRedo', btnBuildDefRedo);
                    t.addBtnDef('historyUndo', btnBuildDefUndo);
                }
            }
        }
    });
})(jQuery);
!function(o){"use strict";o.extend(!0,o.trumbowyg,{langs:{de:{history:{redo:"Wiederholen",undo:"Rückgängig"}},en:{history:{redo:"Redo",undo:"Undo"}},da:{history:{redo:"Annuller fortryd",undo:"Fortryd"}},fr:{history:{redo:"Annuler",undo:"Rétablir"}},zh_tw:{history:{redo:"重做",undo:"復原"}}},plugins:{history:{init:function(i){i.o.plugins.history=o.extend(!0,{_stack:[],_index:-1,_focusEl:void 0},i.o.plugins.history||{});var t={title:i.lang.history.redo,ico:"redo",key:"Y",fn:function(){if(i.o.plugins.history._index<i.o.plugins.history._stack.length-1){i.o.plugins.history._index+=1;var o=i.o.plugins.history._index,t=i.o.plugins.history._stack[o];i.execCmd("html",t),i.o.plugins.history._stack[o]=i.$ed.html(),l(),s()}}},n={title:i.lang.history.undo,ico:"undo",key:"Z",fn:function(){if(i.o.plugins.history._index>0){i.o.plugins.history._index-=1;var o=i.o.plugins.history._index,t=i.o.plugins.history._stack[o];i.execCmd("html",t),i.o.plugins.history._stack[o]=i.$ed.html(),l(),s()}}},e=function(){var t,n,e=i.o.plugins.history._index,r=i.o.plugins.history._stack,l=r.slice(-1)[0]||"<p></p>",u=r[e],h=i.$ed.html(),c=i.doc.getSelection().focusNode,g="",a=i.o.plugins.history._focusEl;t=o("<div>"+l+"</div>").find("*").map(function(){return this.localName}),n=o("<div>"+h+"</div>").find("*").map(function(){return this.localName}),c&&(i.o.plugins.history._focusEl=c,g=c.outerHTML||c.textContent),h!==u&&(g.slice(-1).match(/\s/)||!d(t,n)||i.o.plugins.history._index<=0||c!==a?(i.o.plugins.history._index+=1,i.o.plugins.history._stack=r.slice(0,i.o.plugins.history._index),i.o.plugins.history._stack.push(h)):i.o.plugins.history._stack[e]=h,s())},s=function(){var o=i.o.plugins.history._index,t=i.o.plugins.history._stack.length,n=o>0,e=0!==t&&o!==t-1;r("historyUndo",n),r("historyRedo",e)},r=function(o,t){var n=i.$box.find(".trumbowyg-"+o+"-button");t?n.removeClass("trumbowyg-disable"):n.hasClass("trumbowyg-disable")||n.addClass("trumbowyg-disable")},d=function(o,i){if(o===i)return!0;if(null==o||null==i)return!1;if(o.length!==i.length)return!1;for(var t=0;t<o.length;t+=1)if(o[t]!==i[t])return!1;return!0},l=function(){var o=i.doc.getSelection().focusNode,t=i.doc.createRange();o.childNodes.length>0&&(t.setStartAfter(o.childNodes[o.childNodes.length-1]),t.setEndAfter(o.childNodes[o.childNodes.length-1]),i.doc.getSelection().removeAllRanges(),i.doc.getSelection().addRange(t))};i.$c.on("tbwinit tbwchange",e),i.addBtnDef("historyRedo",t),i.addBtnDef("historyUndo",n)}}}})}(jQuery);
/* ===========================================================
 * trumbowyg.noembed.js v1.0
 * noEmbed plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Jake Johns (jakejohns)
 */

(function ($) {
    'use strict';

    var defaultOptions = {
        proxy: 'https://noembed.com/embed?nowrap=on',
        urlFiled: 'url',
        data: [],
        success: undefined,
        error: undefined
    };

    $.extend(true, $.trumbowyg, {
        langs: {
            en: {
                noembed: 'Noembed',
                noembedError: 'Error'
            },
            da: {
                noembedError: 'Fejl'
            },
            sk: {
                noembedError: 'Chyba'
            },
            fr: {
                noembedError: 'Erreur'
            },
            cs: {
                noembedError: 'Chyba'
            },
            ru: {
                noembedError: 'Ошибка'
            },
            ja: {
                noembedError: 'エラー'
            },
            tr: {
                noembedError: 'Hata'
            },
            zh_tw: {
                noembed: '插入影片',
                noembedError: '錯誤'
            },
        },

        plugins: {
            noembed: {
                init: function (trumbowyg) {
                    trumbowyg.o.plugins.noembed = $.extend(true, {}, defaultOptions, trumbowyg.o.plugins.noembed || {});

                    var btnDef = {
                        fn: function () {
                            var $modal = trumbowyg.openModalInsert(
                                // Title
                                trumbowyg.lang.noembed,

                                // Fields
                                {
                                    url: {
                                        label: 'URL',
                                        required: true
                                    }
                                },

                                // Callback
                                function (data) {
                                    $.ajax({
                                        url: trumbowyg.o.plugins.noembed.proxy,
                                        type: 'GET',
                                        data: data,
                                        cache: false,
                                        dataType: 'json',

                                        success: trumbowyg.o.plugins.noembed.success || function (data) {
                                            if (data.html) {
                                                trumbowyg.execCmd('insertHTML', data.html);
                                                setTimeout(function () {
                                                    trumbowyg.closeModal();
                                                }, 250);
                                            } else {
                                                trumbowyg.addErrorOnModalField(
                                                    $('input[type=text]', $modal),
                                                    data.error
                                                );
                                            }
                                        },
                                        error: trumbowyg.o.plugins.noembed.error || function () {
                                            trumbowyg.addErrorOnModalField(
                                                $('input[type=text]', $modal),
                                                trumbowyg.lang.noembedError
                                            );
                                        }
                                    });
                                }
                            );
                        }
                    };

                    trumbowyg.addBtnDef('noembed', btnDef);
                }
            }
        }
    });
})(jQuery);
!function(e){"use strict";var r={proxy:"https://noembed.com/embed?nowrap=on",urlFiled:"url",data:[],success:void 0,error:void 0};e.extend(!0,e.trumbowyg,{langs:{en:{noembed:"Noembed",noembedError:"Error"},da:{noembedError:"Fejl"},sk:{noembedError:"Chyba"},fr:{noembedError:"Erreur"},cs:{noembedError:"Chyba"},ru:{noembedError:"Ошибка"},ja:{noembedError:"エラー"},tr:{noembedError:"Hata"},zh_tw:{noembed:"插入影片",noembedError:"錯誤"}},plugins:{noembed:{init:function(o){o.o.plugins.noembed=e.extend(!0,{},r,o.o.plugins.noembed||{});var n={fn:function(){var r=o.openModalInsert(o.lang.noembed,{url:{label:"URL",required:!0}},function(n){e.ajax({url:o.o.plugins.noembed.proxy,type:"GET",data:n,cache:!1,dataType:"json",success:o.o.plugins.noembed.success||function(n){n.html?(o.execCmd("insertHTML",n.html),setTimeout(function(){o.closeModal()},250)):o.addErrorOnModalField(e("input[type=text]",r),n.error)},error:o.o.plugins.noembed.error||function(){o.addErrorOnModalField(e("input[type=text]",r),o.lang.noembedError)}})})}};o.addBtnDef("noembed",n)}}}})}(jQuery);
/* ===========================================================
 * trumbowyg.pasteembed.js v1.0
 * Url paste to iframe with noembed. Plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Max Seelig
 *          Facebook : https://facebook.com/maxse
 *          Website : https://www.maxmade.nl/
 */

(function($) {
    'use strict';

    var defaultOptions = {
        enabled: true,
        endpoints: [
            'https://noembed.com/embed?nowrap=on',
            'https://api.maxmade.nl/url2iframe/embed'
        ]
    };

    $.extend(true, $.trumbowyg, {
        plugins: {
            pasteEmbed: {
                init: function(trumbowyg) {
                    trumbowyg.o.plugins.pasteEmbed = $.extend(true, {}, defaultOptions, trumbowyg.o.plugins.pasteEmbed || {});

                    if (!trumbowyg.o.plugins.pasteEmbed.enabled) {
                        return;
                    }

                    trumbowyg.pasteHandlers.push(function(pasteEvent) {
                        try {
                            var clipboardData = (pasteEvent.originalEvent || pasteEvent).clipboardData,
                                pastedData = clipboardData.getData('Text'),
                                endpoints = trumbowyg.o.plugins.pasteEmbed.endpoints,
                                request = null;

                            if (pastedData.startsWith('http')) {
                                pasteEvent.stopPropagation();
                                pasteEvent.preventDefault();

                                var query = {
                                    url: pastedData.trim()
                                };
                                var content = '';
                                var index = 0;

                                if (request && request.transport) {
                                    request.transport.abort();
                                }

                                request = $.ajax({
                                    crossOrigin: true,
                                    url: endpoints[index],
                                    type: 'GET',
                                    data: query,
                                    cache: false,
                                    dataType: 'jsonp',
                                    success: function(res) {
                                        if (res.html) {
                                            index = 0;
                                            content = res.html;
                                        } else {
                                            index += 1;
                                        }
                                    },
                                    error: function() {
                                        index += 1;
                                    },
                                    complete: function() {
                                        if (content.length === 0 && index < endpoints.length - 1) {
                                            this.url = endpoints[index];
                                            this.data = query;
                                            $.ajax(this);
                                        }
                                        if (index === endpoints.length - 1) {
                                            content = $('<a>', {
                                                href: pastedData,
                                                text: pastedData
                                            }).prop('outerHTML');
                                        }
                                        if (content.length > 0) {
                                            index = 0;
                                            trumbowyg.execCmd('insertHTML', content);
                                        }
                                    }
                                });
                            }
                        } catch (c) {}
                    });
                }
            }
        }
    });
})(jQuery);

!function(t){"use strict";var e={enabled:!0,endpoints:["https://noembed.com/embed?nowrap=on","https://api.maxmade.nl/url2iframe/embed"]};t.extend(!0,t.trumbowyg,{plugins:{pasteEmbed:{init:function(n){n.o.plugins.pasteEmbed=t.extend(!0,{},e,n.o.plugins.pasteEmbed||{}),n.o.plugins.pasteEmbed.enabled&&n.pasteHandlers.push(function(e){try{var a=(e.originalEvent||e).clipboardData,r=a.getData("Text"),s=n.o.plugins.pasteEmbed.endpoints,i=null;if(r.startsWith("http")){e.stopPropagation(),e.preventDefault();var o={url:r.trim()},p="",l=0;i&&i.transport&&i.transport.abort(),i=t.ajax({crossOrigin:!0,url:s[l],type:"GET",data:o,cache:!1,dataType:"jsonp",success:function(t){t.html?(l=0,p=t.html):l+=1},error:function(){l+=1},complete:function(){0===p.length&&l<s.length-1&&(this.url=s[l],this.data=o,t.ajax(this)),l===s.length-1&&(p=t("<a>",{href:r,text:r}).prop("outerHTML")),p.length>0&&(l=0,n.execCmd("insertHTML",p))}})}}catch(u){}})}}}})}(jQuery);
/* ===========================================================
 * trumbowyg.preformatted.js v1.0
 * Preformatted plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Casella Edoardo (Civile)
 */


(function ($) {
    'use strict';

    $.extend(true, $.trumbowyg, {
        langs: {
            // jshint camelcase:false
            en: {
                preformatted: 'Code sample <pre>'
            },
            da: {
                preformatted: 'Præformateret <pre>'
            },
            fr: {
                preformatted: 'Exemple de code <pre>'
            },
            it: {
                preformatted: 'Codice <pre>'
            },
            zh_cn: {
                preformatted: '代码示例 <pre>'
            },
            ru: {
                preformatted: 'Пример кода <pre>'
            },
            ja: {
                preformatted: 'コードサンプル <pre>'
            },
            tr: {
                preformatted: 'Kod örneği <pre>'
            },
            zh_tw: {
                preformatted: '代碼範例 <pre>'
            },
        },
        // jshint camelcase:true

        plugins: {
            preformatted: {
                init: function (trumbowyg) {
                    var btnDef = {
                        fn: function () {
                            trumbowyg.saveRange();
                            var text = trumbowyg.getRangeText();
                            if (text.replace(/\s/g, '') !== '') {
                                try {
                                    var curtag = getSelectionParentElement().tagName.toLowerCase();
                                    if (curtag === 'code' || curtag === 'pre') {
                                        return unwrapCode();
                                    }
                                    else {
                                        trumbowyg.execCmd('insertHTML', '<pre><code>' + strip(text) + '</code></pre>');
                                    }
                                } catch (e) {
                                }
                            }
                        },
                        tag: 'pre'
                    };

                    trumbowyg.addBtnDef('preformatted', btnDef);
                }
            }
        }
    });

    /*
     * GetSelectionParentElement
     */
    function getSelectionParentElement() {
        var parentEl = null,
            selection;

        if (window.getSelection) {
            selection = window.getSelection();
            if (selection.rangeCount) {
                parentEl = selection.getRangeAt(0).commonAncestorContainer;
                if (parentEl.nodeType !== 1) {
                    parentEl = parentEl.parentNode;
                }
            }
        } else if ((selection = document.selection) && selection.type !== 'Control') {
            parentEl = selection.createRange().parentElement();
        }

        return parentEl;
    }

    /*
     * Strip
     * returns a text without HTML tags
     */
    function strip(html) {
        var tmp = document.createElement('DIV');
        tmp.innerHTML = html;
        return tmp.textContent || tmp.innerText || '';
    }

    /*
     * UnwrapCode
     * ADD/FIX: to improve, works but can be better
     * "paranoic" solution
     */
    function unwrapCode() {
        var container = null;

        if (document.selection) { //for IE
            container = document.selection.createRange().parentElement();
        } else {
            var select = window.getSelection();
            if (select.rangeCount > 0) {
                container = select.getRangeAt(0).startContainer.parentNode;
            }
        }

        //'paranoic' unwrap
        var ispre = $(container).contents().closest('pre').length;
        var iscode = $(container).contents().closest('code').length;

        if (ispre && iscode) {
            $(container).contents().unwrap('code').unwrap('pre');
        } else if (ispre) {
            $(container).contents().unwrap('pre');
        } else if (iscode) {
            $(container).contents().unwrap('code');
        }
    }
})(jQuery);

!function(e){"use strict";function t(){var e,t=null;return window.getSelection?(e=window.getSelection(),e.rangeCount&&(t=e.getRangeAt(0).commonAncestorContainer,1!==t.nodeType&&(t=t.parentNode))):(e=document.selection)&&"Control"!==e.type&&(t=e.createRange().parentElement()),t}function n(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}function r(){var t=null;if(document.selection)t=document.selection.createRange().parentElement();else{var n=window.getSelection();n.rangeCount>0&&(t=n.getRangeAt(0).startContainer.parentNode)}var r=e(t).contents().closest("pre").length,o=e(t).contents().closest("code").length;r&&o?e(t).contents().unwrap("code").unwrap("pre"):r?e(t).contents().unwrap("pre"):o&&e(t).contents().unwrap("code")}e.extend(!0,e.trumbowyg,{langs:{en:{preformatted:"Code sample <pre>"},da:{preformatted:"Præformateret <pre>"},fr:{preformatted:"Exemple de code <pre>"},it:{preformatted:"Codice <pre>"},zh_cn:{preformatted:"代码示例 <pre>"},ru:{preformatted:"Пример кода <pre>"},ja:{preformatted:"コードサンプル <pre>"},tr:{preformatted:"Kod örneği <pre>"},zh_tw:{preformatted:"代碼範例 <pre>"}},plugins:{preformatted:{init:function(e){var o={fn:function(){e.saveRange();var o=e.getRangeText();if(""!==o.replace(/\s/g,""))try{var a=t().tagName.toLowerCase();if("code"===a||"pre"===a)return r();e.execCmd("insertHTML","<pre><code>"+n(o)+"</code></pre>")}catch(c){}},tag:"pre"};e.addBtnDef("preformatted",o)}}}})}(jQuery);
/* ===========================================================
 * trumbowyg.specialchars.js v0.99
 * Unicode characters picker plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Renaud Hoyoux (geektortoise)
*/

(function ($) {
    'use strict';

    var defaultOptions = {
        symbolList: [
            // currencies
            '0024','20AC','00A3','00A2','00A5','00A4','2030', null,
            // legal signs
            '00A9','00AE', '2122', null,
            // textual sign
            '00A7','00B6','00C6','00E6','0152','0153', null,
            '2022','25CF','2023','25B6','2B29','25C6',null,
            //maths
            '00B1','00D7','00F7','21D2','21D4','220F','2211','2243','2264','2265'
 		    ]
    };

    $.extend(true, $.trumbowyg, {
        langs: {
            en: {
                specialChars: 'Special characters'
            },
            fr: {
                specialChars: 'Caractères spéciaux'
            }
        },
        plugins: {
            specialchars: {
                init: function (trumbowyg) {
                    trumbowyg.o.plugins.specialchars = trumbowyg.o.plugins.specialchars || defaultOptions;
                    var specialCharsBtnDef = {
                        dropdown: buildDropdown(trumbowyg)
                    };

                    trumbowyg.addBtnDef('specialChars', specialCharsBtnDef);
                }
            }
        }
    });
    function buildDropdown(trumbowyg) {
        var dropdown = [];
        var isNull = false;
        $.each(trumbowyg.o.plugins.specialchars.symbolList, function (i, symbol) {
            if(symbol === null){
                symbol = '&nbsp';
            } else {
                symbol = '&#x' + symbol;
            }
            var btn = symbol.replace(/:/g, ''),
                defaultSymbolBtnName = 'symbol-' + btn,
                defaultSymbolBtnDef = {
                    text: symbol,
                    fn: function () {
                        var encodedSymbol = String.fromCodePoint(symbol.replace("&#", "0"));
                        trumbowyg.execCmd('insertText', encodedSymbol);
                        return true;
                    }
                };

            trumbowyg.addBtnDef(defaultSymbolBtnName, defaultSymbolBtnDef);
            dropdown.push(defaultSymbolBtnName);
        });

        return dropdown;
    }
})(jQuery);

!function(n){"use strict";function s(s){var a=[];return n.each(s.o.plugins.specialchars.symbolList,function(n,e){e=null===e?"&nbsp":"&#x"+e;var r=e.replace(/:/g,""),l="symbol-"+r,c={text:e,fn:function(){var n=String.fromCodePoint(e.replace("&#","0"));return s.execCmd("insertText",n),!0}};s.addBtnDef(l,c),a.push(l)}),a}var a={symbolList:["0024","20AC","00A3","00A2","00A5","00A4","2030",null,"00A9","00AE","2122",null,"00A7","00B6","00C6","00E6","0152","0153",null,"2022","25CF","2023","25B6","2B29","25C6",null,"00B1","00D7","00F7","21D2","21D4","220F","2211","2243","2264","2265"]};n.extend(!0,n.trumbowyg,{langs:{en:{specialChars:"Special characters"},fr:{specialChars:"Caractères spéciaux"}},plugins:{specialchars:{init:function(n){n.o.plugins.specialchars=n.o.plugins.specialchars||a;var e={dropdown:s(n)};n.addBtnDef("specialChars",e)}}}})}(jQuery);
/* ===========================================================
 * trumbowyg.table.custom.js v2.0
 * Table plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : Sven Dunemann [dunemann@forelabs.eu]
 */

(function ($) {
    'use strict';

    var defaultOptions = {
        rows: 8,
        columns: 8,
        styler: 'table'
    };

    $.extend(true, $.trumbowyg, {
        langs: {
            en: {
                table: 'Insert table',
                tableAddRow: 'Add row',
                tableAddColumn: 'Add column',
                tableDeleteRow: 'Delete row',
                tableDeleteColumn: 'Delete column',
                tableDestroy: 'Delete table',
                error: 'Error'
            },
            da: {
              table: 'Indsæt tabel',
              tableAddRow: 'Tilføj række',
              tableAddColumn: 'Tilføj kolonne',
              tableDeleteRow: 'Slet række',
              tableDeleteColumn: 'Slet kolonne',
              tableDestroy: 'Slet tabel',
              error: 'Fejl'
            },
            de: {
              table: 'Tabelle einfügen',
              tableAddRow: 'Zeile hinzufügen',
              tableAddColumn: 'Spalte hinzufügen',
              tableDeleteRow: 'Zeile löschen',
              tableDeleteColumn: 'Spalte löschen',
              tableDestroy: 'Tabelle löschen',
              error: 'Error'
            },
            sk: {
                table: 'Vytvoriť tabuľky',
                tableAddRow: 'Pridať riadok',
                tableAddColumn: 'Pridať stĺpec',
                error: 'Chyba'
            },
            fr: {
                table: 'Insérer un tableau',
                tableAddRow: 'Ajouter des lignes',
                tableAddColumn: 'Ajouter des colonnes',
                error: 'Erreur'
            },
            cs: {
                table: 'Vytvořit příkaz Table',
                tableAddRow: 'Přidat řádek',
                tableAddColumn: 'Přidat sloupec',
                error: 'Chyba'
            },
            ru: {
                table: 'Вставить таблицу',
                tableAddRow: 'Добавить строку',
                tableAddColumn: 'Добавить столбец',
                tableDeleteRow: 'Удалить строку',
                tableDeleteColumn: 'Удалить столбец',
                tableDestroy: 'Удалить таблицу',
                error: 'Ошибка'
            },
            ja: {
                table: '表の挿入',
                tableAddRow: '行の追加',
                tableAddColumn: '列の追加',
                error: 'エラー'
            },
            tr: {
                table: 'Tablo ekle',
                tableAddRow: 'Satır ekle',
                tableAddColumn: 'Kolon ekle',
                error: 'Hata'
            },
            zh_tw: {
              table: '插入表格',
              tableAddRow: '加入行',
              tableAddColumn: '加入列',
              tableDeleteRow: '刪除行',
              tableDeleteColumn: '刪除列',
              tableDestroy: '刪除表格',
              error: '錯誤'
            },
            id: {
                table: 'Sisipkan tabel',
                tableAddRow: 'Sisipkan baris',
                tableAddColumn: 'Sisipkan kolom',
                tableDeleteRow: 'Hapus baris',
                tableDeleteColumn: 'Hapus kolom',
                tableDestroy: 'Hapus tabel',
                error: 'Galat'
            },
        },

        plugins: {
            table: {
                init: function (t) {
                    t.o.plugins.table = $.extend(true, {}, defaultOptions, t.o.plugins.table || {});

                    var buildButtonDef = {
                        fn: function () {
                          t.saveRange();

                          var btnName = 'table';

                          var dropdownPrefix = t.o.prefix + 'dropdown',
                              dropdownOptions = { // the dropdown
                              class: dropdownPrefix + '-' + btnName + ' ' + dropdownPrefix + ' ' + t.o.prefix + 'fixed-top'
                          };
                          dropdownOptions['data-' + dropdownPrefix] = btnName;
                          var $dropdown = $('<div/>', dropdownOptions);

                          if (t.$box.find("." + dropdownPrefix + "-" + btnName).length === 0) {
                            t.$box.append($dropdown.hide());
                          } else {
                            $dropdown = t.$box.find("." + dropdownPrefix + "-" + btnName);
                          }

                          // clear dropdown
                          $dropdown.html('');

                          // when active table show AddRow / AddColumn
                          if (t.$box.find("." + t.o.prefix + "table-button").hasClass(t.o.prefix + 'active-button')) {
                            $dropdown.append(t.buildSubBtn('tableAddRow'));
                            $dropdown.append(t.buildSubBtn('tableAddColumn'));
                            $dropdown.append(t.buildSubBtn('tableDeleteRow'));
                            $dropdown.append(t.buildSubBtn('tableDeleteColumn'));
                            $dropdown.append(t.buildSubBtn('tableDestroy'));
                          } else {
                            var tableSelect = $('<table></table>');
                            for (var i = 0; i < t.o.plugins.table.rows; i += 1) {
                              var row = $('<tr></tr>').appendTo(tableSelect);
                              for (var j = 0; j < t.o.plugins.table.columns; j += 1) {
                                $('<td></td>').appendTo(row);
                              }
                            }
                            tableSelect.find('td').on('mouseover', tableAnimate);
                            tableSelect.find('td').on('mousedown', tableBuild);

                            $dropdown.append(tableSelect);
                            $dropdown.append($('<center>1x1</center>'));
                          }

                          t.dropdown(btnName);
                        }
                    };

                    var tableAnimate = function(column_event) {
                      var column = $(column_event.target),
                          table = column.parents('table'),
                          colIndex = this.cellIndex,
                          rowIndex = this.parentNode.rowIndex;

                      // reset all columns
                      table.find('td').removeClass('active');

                      for (var i = 0; i <= rowIndex; i += 1) {
                        for (var j = 0; j <= colIndex; j += 1) {
                          table.find("tr:nth-of-type("+(i+1)+")").find("td:nth-of-type("+(j+1)+")").addClass('active');
                        }
                      }

                      // set label
                      table.next('center').html((colIndex+1) + "x" + (rowIndex+1));
                    };

                    var tableBuild = function(column_event) {
                      t.saveRange();

                      var tabler = $('<table></table>');
                      if (t.o.plugins.table.styler) {
                        tabler.attr('class', t.o.plugins.table.styler);
                      }

                      var column = $(column_event.target),
                          colIndex = this.cellIndex,
                          rowIndex = this.parentNode.rowIndex;

                      for (var i = 0; i <= rowIndex; i += 1) {
                        var row = $('<tr></tr>').appendTo(tabler);
                        for (var j = 0; j <= colIndex; j += 1) {
                          $('<td></td>').appendTo(row);
                        }
                      }

                      t.range.deleteContents();
                      t.range.insertNode(tabler[0]);
                      t.$c.trigger('tbwchange');
                    };

                    var addRow = {
                      title: t.lang['tableAddRow'],
                      text: t.lang['tableAddRow'],
                      ico: 'row-below',

                      fn: function () {
                        t.saveRange();

                        var node = t.doc.getSelection().focusNode;
                        var table = $(node).closest('table');

                        if(table.length > 0) {
                          var row = $('<tr></tr>');
                          // add columns according to current columns count
                          for (var i = 0; i < table.find('tr')[0].childElementCount; i += 1) {
                            $('<td></td>').appendTo(row);
                          }
                          // add row to table
                          row.appendTo(table);
                        }

                        return true;
                      }
                    };

                    var addColumn = {
                      title: t.lang['tableAddColumn'],
                      text: t.lang['tableAddColumn'],
                      ico: 'col-right',

                      fn: function () {
                        t.saveRange();

                        var node = t.doc.getSelection().focusNode;
                        var table = $(node).closest('table');

                        if(table.length > 0) {
                          $(table).find('tr').each(function() {
                            $(this).find('td:last').after('<td></td>');
                          });
                        }

                        return true;
                      }
                    };

                    var destroy = {
                      title: t.lang['tableDestroy'],
                      text: t.lang['tableDestroy'],
                      ico: 'table-delete',

                      fn: function () {
                        t.saveRange();

                        var node = t.doc.getSelection().focusNode,
                            table = $(node).closest('table');

                        table.remove();

                        return true;
                      }
                    };

                    var deleteRow = {
                      title: t.lang['tableDeleteRow'],
                      text: t.lang['tableDeleteRow'],
                      ico: 'row-delete',

                      fn: function () {
                        t.saveRange();

                        var node = t.doc.getSelection().focusNode,
                            row = $(node).closest('tr');

                        row.remove();

                        return true;
                      }
                    };

                    var deleteColumn = {
                      title: t.lang['tableDeleteColumn'],
                      text: t.lang['tableDeleteColumn'],
                      ico: 'col-delete',

                      fn: function () {
                        t.saveRange();

                        var node = t.doc.getSelection().focusNode,
                            table = $(node).closest('table'),
                            td = $(node).closest('td'),
                            cellIndex = td.index();

                        $(table).find('tr').each(function() {
                          $(this).find('td:eq('+cellIndex+')').remove();
                        });

                        return true;
                      }
                    };

                    t.addBtnDef('table', buildButtonDef);
                    t.addBtnDef('tableAddRow', addRow);
                    t.addBtnDef('tableAddColumn', addColumn);
                    t.addBtnDef('tableDeleteRow', deleteRow);
                    t.addBtnDef('tableDeleteColumn', deleteColumn);
                    t.addBtnDef('tableDestroy', destroy);
                }
            }
        }
    });
})(jQuery);

!function(e){"use strict";var t={rows:8,columns:8,styler:"table"};e.extend(!0,e.trumbowyg,{langs:{en:{table:"Insert table",tableAddRow:"Add row",tableAddColumn:"Add column",tableDeleteRow:"Delete row",tableDeleteColumn:"Delete column",tableDestroy:"Delete table",error:"Error"},da:{table:"Indsæt tabel",tableAddRow:"Tilføj række",tableAddColumn:"Tilføj kolonne",tableDeleteRow:"Slet række",tableDeleteColumn:"Slet kolonne",tableDestroy:"Slet tabel",error:"Fejl"},de:{table:"Tabelle einfügen",tableAddRow:"Zeile hinzufügen",tableAddColumn:"Spalte hinzufügen",tableDeleteRow:"Zeile löschen",tableDeleteColumn:"Spalte löschen",tableDestroy:"Tabelle löschen",error:"Error"},sk:{table:"Vytvoriť tabuľky",tableAddRow:"Pridať riadok",tableAddColumn:"Pridať stĺpec",error:"Chyba"},fr:{table:"Insérer un tableau",tableAddRow:"Ajouter des lignes",tableAddColumn:"Ajouter des colonnes",error:"Erreur"},cs:{table:"Vytvořit příkaz Table",tableAddRow:"Přidat řádek",tableAddColumn:"Přidat sloupec",error:"Chyba"},ru:{table:"Вставить таблицу",tableAddRow:"Добавить строку",tableAddColumn:"Добавить столбец",tableDeleteRow:"Удалить строку",tableDeleteColumn:"Удалить столбец",tableDestroy:"Удалить таблицу",error:"Ошибка"},ja:{table:"表の挿入",tableAddRow:"行の追加",tableAddColumn:"列の追加",error:"エラー"},tr:{table:"Tablo ekle",tableAddRow:"Satır ekle",tableAddColumn:"Kolon ekle",error:"Hata"},zh_tw:{table:"插入表格",tableAddRow:"加入行",tableAddColumn:"加入列",tableDeleteRow:"刪除行",tableDeleteColumn:"刪除列",tableDestroy:"刪除表格",error:"錯誤"},id:{table:"Sisipkan tabel",tableAddRow:"Sisipkan baris",tableAddColumn:"Sisipkan kolom",tableDeleteRow:"Hapus baris",tableDeleteColumn:"Hapus kolom",tableDestroy:"Hapus tabel",error:"Galat"}},plugins:{table:{init:function(l){l.o.plugins.table=e.extend(!0,{},t,l.o.plugins.table||{});var a={fn:function(){l.saveRange();var t="table",a=l.o.prefix+"dropdown",d={"class":a+"-"+t+" "+a+" "+l.o.prefix+"fixed-top"};d["data-"+a]=t;var r=e("<div/>",d);if(0===l.$box.find("."+a+"-"+t).length?l.$box.append(r.hide()):r=l.$box.find("."+a+"-"+t),r.html(""),l.$box.find("."+l.o.prefix+"table-button").hasClass(l.o.prefix+"active-button"))r.append(l.buildSubBtn("tableAddRow")),r.append(l.buildSubBtn("tableAddColumn")),r.append(l.buildSubBtn("tableDeleteRow")),r.append(l.buildSubBtn("tableDeleteColumn")),r.append(l.buildSubBtn("tableDestroy"));else{for(var b=e("<table></table>"),i=0;i<l.o.plugins.table.rows;i+=1)for(var s=e("<tr></tr>").appendTo(b),u=0;u<l.o.plugins.table.columns;u+=1)e("<td></td>").appendTo(s);b.find("td").on("mouseover",o),b.find("td").on("mousedown",n),r.append(b),r.append(e("<center>1x1</center>"))}l.dropdown(t)}},o=function(t){var l=e(t.target),a=l.parents("table"),o=this.cellIndex,n=this.parentNode.rowIndex;a.find("td").removeClass("active");for(var d=0;d<=n;d+=1)for(var r=0;r<=o;r+=1)a.find("tr:nth-of-type("+(d+1)+")").find("td:nth-of-type("+(r+1)+")").addClass("active");a.next("center").html(o+1+"x"+(n+1))},n=function(t){l.saveRange();var a=e("<table></table>");l.o.plugins.table.styler&&a.attr("class",l.o.plugins.table.styler);for(var o=(e(t.target),this.cellIndex),n=this.parentNode.rowIndex,d=0;d<=n;d+=1)for(var r=e("<tr></tr>").appendTo(a),b=0;b<=o;b+=1)e("<td></td>").appendTo(r);l.range.deleteContents(),l.range.insertNode(a[0]),l.$c.trigger("tbwchange")},d={title:l.lang.tableAddRow,text:l.lang.tableAddRow,ico:"row-below",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest("table");if(a.length>0){for(var o=e("<tr></tr>"),n=0;n<a.find("tr")[0].childElementCount;n+=1)e("<td></td>").appendTo(o);o.appendTo(a)}return!0}},r={title:l.lang.tableAddColumn,text:l.lang.tableAddColumn,ico:"col-right",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest("table");return a.length>0&&e(a).find("tr").each(function(){e(this).find("td:last").after("<td></td>")}),!0}},b={title:l.lang.tableDestroy,text:l.lang.tableDestroy,ico:"table-delete",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest("table");return a.remove(),!0}},i={title:l.lang.tableDeleteRow,text:l.lang.tableDeleteRow,ico:"row-delete",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest("tr");return a.remove(),!0}},s={title:l.lang.tableDeleteColumn,text:l.lang.tableDeleteColumn,ico:"col-delete",fn:function(){l.saveRange();var t=l.doc.getSelection().focusNode,a=e(t).closest("table"),o=e(t).closest("td"),n=o.index();return e(a).find("tr").each(function(){e(this).find("td:eq("+n+")").remove()}),!0}};l.addBtnDef("table",a),l.addBtnDef("tableAddRow",d),l.addBtnDef("tableAddColumn",r),l.addBtnDef("tableDeleteRow",i),l.addBtnDef("tableDeleteColumn",s),l.addBtnDef("tableDestroy",b)}}}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRydW1ib3d5Zy5iYXNlNjQuanMiLCJ0cnVtYm93eWcuYmFzZTY0Lm1pbi5qcyIsInRydW1ib3d5Zy5jb2xvcnMuanMiLCJ0cnVtYm93eWcuY29sb3JzLm1pbi5qcyIsInRydW1ib3d5Zy5mb250ZmFtaWx5LmpzIiwidHJ1bWJvd3lnLmZvbnRmYW1pbHkubWluLmpzIiwidHJ1bWJvd3lnLmZvbnRzaXplLmpzIiwidHJ1bWJvd3lnLmZvbnRzaXplLm1pbi5qcyIsInRydW1ib3d5Zy5oaXN0b3J5LmpzIiwidHJ1bWJvd3lnLmhpc3RvcnkubWluLmpzIiwidHJ1bWJvd3lnLm5vZW1iZWQuanMiLCJ0cnVtYm93eWcubm9lbWJlZC5taW4uanMiLCJ0cnVtYm93eWcucGFzdGVlbWJlZC5qcyIsInRydW1ib3d5Zy5wYXN0ZWVtYmVkLm1pbi5qcyIsInRydW1ib3d5Zy5wcmVmb3JtYXR0ZWQuanMiLCJ0cnVtYm93eWcucHJlZm9ybWF0dGVkLm1pbi5qcyIsInRydW1ib3d5Zy5zcGVjaWFsY2hhcnMuanMiLCJ0cnVtYm93eWcuc3BlY2lhbGNoYXJzLm1pbi5qcyIsInRydW1ib3d5Zy50YWJsZS5qcyIsInRydW1ib3d5Zy50YWJsZS5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzdJQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2TUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbEZBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JMQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDek1BO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOUdBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoR0E7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeElBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMUVBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pUQSIsImZpbGUiOiJ0cnVtYm93eWctcGx1Z2lucy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiB0cnVtYm93eWcuYmFzZTY0LmpzIHYxLjBcbiAqIEJhc2U2NCBwbHVnaW4gZm9yIFRydW1ib3d5Z1xuICogaHR0cDovL2FsZXgtZC5naXRodWIuY29tL1RydW1ib3d5Z1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEF1dGhvciA6IEN5cmlsIEJpZW5jb3VydCAobGl6YXJkSylcbiAqL1xuXG4oZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfTtcblxuICAgIHZhciBpc1ZhbGlkSW1hZ2UgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gL15kYXRhOmltYWdlXFwvW2Etel0/L2kudGVzdCh0eXBlKTtcbiAgICB9O1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgbGFuZ3M6IHtcbiAgICAgICAgICAgIC8vIGpzaGludCBjYW1lbGNhc2U6ZmFsc2VcbiAgICAgICAgICAgIGVuOiB7XG4gICAgICAgICAgICAgICAgYmFzZTY0OiAnSW1hZ2UgYXMgYmFzZTY0JyxcbiAgICAgICAgICAgICAgICBmaWxlOiAnRmlsZScsXG4gICAgICAgICAgICAgICAgZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDogJ0ZpbGVSZWFkZXIgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIuJyxcbiAgICAgICAgICAgICAgICBlcnJJbnZhbGlkSW1hZ2U6ICdJbnZhbGlkIGltYWdlIGZpbGUuJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhOiB7XG4gICAgICAgICAgICAgICAgYmFzZTY0OiAnQmlsbGVkZSBzb20gYmFzZTY0JyxcbiAgICAgICAgICAgICAgICBmaWxlOiAnRmlsJyxcbiAgICAgICAgICAgICAgICBlcnJGaWxlUmVhZGVyTm90U3VwcG9ydGVkOiAnRmlsZVJlYWRlciBlciBpa2tlIHVuZGVyc3TDuHR0ZXQgYWYgZGluIGJyb3dzZXIuJyxcbiAgICAgICAgICAgICAgICBlcnJJbnZhbGlkSW1hZ2U6ICdVZ3lsZGlnIGJpbGxlZGZpbC4nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnI6IHtcbiAgICAgICAgICAgICAgICBiYXNlNjQ6ICdJbWFnZSBlbiBiYXNlNjQnLFxuICAgICAgICAgICAgICAgIGZpbGU6ICdGaWNoaWVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNzOiB7XG4gICAgICAgICAgICAgICAgYmFzZTY0OiAnVmxvxb5pdCBvYnLDoXplaycsXG4gICAgICAgICAgICAgICAgZmlsZTogJ1NvdWJvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6aF9jbjoge1xuICAgICAgICAgICAgICAgIGJhc2U2NDogJ+WbvueJh++8iEJhc2U2NOe8luegge+8iScsXG4gICAgICAgICAgICAgICAgZmlsZTogJ+aWh+S7tidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBubDoge1xuICAgICAgICAgICAgICAgIGJhc2U2NDogJ0FmYmVlbGRpbmcgaW5saW5lJyxcbiAgICAgICAgICAgICAgICBmaWxlOiAnQmVzdGFuZCcsXG4gICAgICAgICAgICAgICAgZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDogJ1V3IGJyb3dzZXIgb25kZXJzdGV1bnQgZGV6ZSBmdW5jdGlvbmFsaXRlaXQgbmlldC4nLFxuICAgICAgICAgICAgICAgIGVyckludmFsaWRJbWFnZTogJ0RlIGdla296ZW4gYWZiZWVsZGluZyBpcyBvbmdlbGRpZy4nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnU6IHtcbiAgICAgICAgICAgICAgICBiYXNlNjQ6ICfQmNC30L7QsdGA0LDQttC10L3QuNC1INC60LDQuiDQutC+0LQg0LIgYmFzZTY0JyxcbiAgICAgICAgICAgICAgICBmaWxlOiAn0KTQsNC50LsnLFxuICAgICAgICAgICAgICAgIGVyckZpbGVSZWFkZXJOb3RTdXBwb3J0ZWQ6ICdGaWxlUmVhZGVyINC90LUg0L/QvtC00LTQtdGA0LbQuNCy0LDQtdGC0YHRjyDQstCw0YjQuNC8INCx0YDQsNGD0LfQtdGA0L7QvC4nLFxuICAgICAgICAgICAgICAgIGVyckludmFsaWRJbWFnZTogJ9Cd0LXQtNC+0L/Rg9GB0YLQuNC80YvQuSDRhNCw0LnQuyDQuNC30L7QsdGA0LDQttC10L3QuNGPLidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqYToge1xuICAgICAgICAgICAgICAgIGJhc2U2NDogJ+eUu+WDjyAoQmFzZTY05b2i5byPKScsXG4gICAgICAgICAgICAgICAgZmlsZTogJ+ODleOCoeOCpOODqycsXG4gICAgICAgICAgICAgICAgZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDogJ+OBguOBquOBn+OBruODluODqeOCpuOCtuODvOOBr0ZpbGVSZWFkZXLjgpLjgrXjg53jg7zjg4jjgZfjgabjgYTjgb7jgZvjgpMnLFxuICAgICAgICAgICAgICAgIGVyckludmFsaWRJbWFnZTogJ+eUu+WDj+W9ouW8j+OBjOato+OBl+OBj+OBguOCiuOBvuOBm+OCkydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cjoge1xuICAgICAgICAgICAgICAgIGJhc2U2NDogJ0Jhc2U2NCBvbGFyYWsgcmVzaW0nLFxuICAgICAgICAgICAgICAgIGZpbGU6ICdEb3N5YScsXG4gICAgICAgICAgICAgICAgZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDogJ0ZpbGVSZWFkZXIgdGFyYXnEsWPEsW7EsXogdGFyYWbEsW5kYW4gZGVzdGVrbGVubWl5b3IuJyxcbiAgICAgICAgICAgICAgICBlcnJJbnZhbGlkSW1hZ2U6ICdHZcOnZXJzaXogcmVzaW0gZG9zeWFzxLEuJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpoX3R3OiB7XG4gICAgICAgICAgICAgICAgYmFzZTY0OiAn5ZyW54mHKGJhc2U2NOe3qOeivCknLFxuICAgICAgICAgICAgICAgIGZpbGU6ICfmqpTmoYgnLFxuICAgICAgICAgICAgICAgIGVyckZpbGVSZWFkZXJOb3RTdXBwb3J0ZWQ6ICfkvaDnmoTngI/opr3lmajkuI3mlK/mj7RGaWxlUmVhZGVyJyxcbiAgICAgICAgICAgICAgICBlcnJJbnZhbGlkSW1hZ2U6ICfkuI3mraPnorrnmoTmqpTmoYjmoLzlvI8nXG4gICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLy8ganNoaW50IGNhbWVsY2FzZTp0cnVlXG5cbiAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgICAgYmFzZTY0OiB7XG4gICAgICAgICAgICAgICAgc2hvdWxkSW5pdDogaXNTdXBwb3J0ZWQsXG4gICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKHRydW1ib3d5Zykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnRuRGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdXBwb3J0ZWQ6IGlzU3VwcG9ydGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuc2F2ZVJhbmdlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJG1vZGFsID0gdHJ1bWJvd3lnLm9wZW5Nb2RhbEluc2VydChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLmxhbmcuYmFzZTY0LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpZWxkc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0OiAnaW1hZ2UvKidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdkZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydW1ib3d5Zy5nZXRSYW5nZVRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZlJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkSW1hZ2UoZS50YXJnZXQucmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuZXhlY0NtZCgnaW5zZXJ0SW1hZ2UnLCBmUmVhZGVyLnJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFsnaW1nW3NyYz1cIicsIGZSZWFkZXIucmVzdWx0LCAnXCJdOm5vdChbYWx0XSknXS5qb2luKCcnKSwgdHJ1bWJvd3lnLiRib3gpLmF0dHIoJ2FsdCcsIHZhbHVlcy5hbHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5hZGRFcnJvck9uTW9kYWxGaWVsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W3R5cGU9ZmlsZV0nLCAkbW9kYWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLmxhbmcuZXJySW52YWxpZEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZlJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W3R5cGU9ZmlsZV0nKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5hZGRCdG5EZWYoJ2Jhc2U2NCcsIGJ0bkRlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KShqUXVlcnkpO1xuIiwiIWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZpbGVSZWFkZXJ9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuL15kYXRhOmltYWdlXFwvW2Etel0/L2kudGVzdChlKX07ZS5leHRlbmQoITAsZS50cnVtYm93eWcse2xhbmdzOntlbjp7YmFzZTY0OlwiSW1hZ2UgYXMgYmFzZTY0XCIsZmlsZTpcIkZpbGVcIixlcnJGaWxlUmVhZGVyTm90U3VwcG9ydGVkOlwiRmlsZVJlYWRlciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3Nlci5cIixlcnJJbnZhbGlkSW1hZ2U6XCJJbnZhbGlkIGltYWdlIGZpbGUuXCJ9LGRhOntiYXNlNjQ6XCJCaWxsZWRlIHNvbSBiYXNlNjRcIixmaWxlOlwiRmlsXCIsZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDpcIkZpbGVSZWFkZXIgZXIgaWtrZSB1bmRlcnN0w7h0dGV0IGFmIGRpbiBicm93c2VyLlwiLGVyckludmFsaWRJbWFnZTpcIlVneWxkaWcgYmlsbGVkZmlsLlwifSxmcjp7YmFzZTY0OlwiSW1hZ2UgZW4gYmFzZTY0XCIsZmlsZTpcIkZpY2hpZXJcIn0sY3M6e2Jhc2U2NDpcIlZsb8W+aXQgb2Jyw6F6ZWtcIixmaWxlOlwiU291Ym9yXCJ9LHpoX2NuOntiYXNlNjQ6XCLlm77niYfvvIhCYXNlNjTnvJbnoIHvvIlcIixmaWxlOlwi5paH5Lu2XCJ9LG5sOntiYXNlNjQ6XCJBZmJlZWxkaW5nIGlubGluZVwiLGZpbGU6XCJCZXN0YW5kXCIsZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDpcIlV3IGJyb3dzZXIgb25kZXJzdGV1bnQgZGV6ZSBmdW5jdGlvbmFsaXRlaXQgbmlldC5cIixlcnJJbnZhbGlkSW1hZ2U6XCJEZSBnZWtvemVuIGFmYmVlbGRpbmcgaXMgb25nZWxkaWcuXCJ9LHJ1OntiYXNlNjQ6XCLQmNC30L7QsdGA0LDQttC10L3QuNC1INC60LDQuiDQutC+0LQg0LIgYmFzZTY0XCIsZmlsZTpcItCk0LDQudC7XCIsZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDpcIkZpbGVSZWFkZXIg0L3QtSDQv9C+0LTQtNC10YDQttC40LLQsNC10YLRgdGPINCy0LDRiNC40Lwg0LHRgNCw0YPQt9C10YDQvtC8LlwiLGVyckludmFsaWRJbWFnZTpcItCd0LXQtNC+0L/Rg9GB0YLQuNC80YvQuSDRhNCw0LnQuyDQuNC30L7QsdGA0LDQttC10L3QuNGPLlwifSxqYTp7YmFzZTY0Olwi55S75YOPIChCYXNlNjTlvaLlvI8pXCIsZmlsZTpcIuODleOCoeOCpOODq1wiLGVyckZpbGVSZWFkZXJOb3RTdXBwb3J0ZWQ6XCLjgYLjgarjgZ/jga7jg5bjg6njgqbjgrbjg7zjga9GaWxlUmVhZGVy44KS44K144Od44O844OI44GX44Gm44GE44G+44Gb44KTXCIsZXJySW52YWxpZEltYWdlOlwi55S75YOP5b2i5byP44GM5q2j44GX44GP44GC44KK44G+44Gb44KTXCJ9LHRyOntiYXNlNjQ6XCJCYXNlNjQgb2xhcmFrIHJlc2ltXCIsZmlsZTpcIkRvc3lhXCIsZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDpcIkZpbGVSZWFkZXIgdGFyYXnEsWPEsW7EsXogdGFyYWbEsW5kYW4gZGVzdGVrbGVubWl5b3IuXCIsZXJySW52YWxpZEltYWdlOlwiR2XDp2Vyc2l6IHJlc2ltIGRvc3lhc8SxLlwifSx6aF90dzp7YmFzZTY0Olwi5ZyW54mHKGJhc2U2NOe3qOeivClcIixmaWxlOlwi5qqU5qGIXCIsZXJyRmlsZVJlYWRlck5vdFN1cHBvcnRlZDpcIuS9oOeahOeAj+imveWZqOS4jeaUr+aPtEZpbGVSZWFkZXJcIixlcnJJbnZhbGlkSW1hZ2U6XCLkuI3mraPnorrnmoTmqpTmoYjmoLzlvI9cIn19LHBsdWdpbnM6e2Jhc2U2NDp7c2hvdWxkSW5pdDphLGluaXQ6ZnVuY3Rpb24oaSl7dmFyIHQ9e2lzU3VwcG9ydGVkOmEsZm46ZnVuY3Rpb24oKXtpLnNhdmVSYW5nZSgpO3ZhciBhLHQ9aS5vcGVuTW9kYWxJbnNlcnQoaS5sYW5nLmJhc2U2NCx7ZmlsZTp7dHlwZTpcImZpbGVcIixyZXF1aXJlZDohMCxhdHRyaWJ1dGVzOnthY2NlcHQ6XCJpbWFnZS8qXCJ9fSxhbHQ6e2xhYmVsOlwiZGVzY3JpcHRpb25cIix2YWx1ZTppLmdldFJhbmdlVGV4dCgpfX0sZnVuY3Rpb24obCl7dmFyIG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWRlbmQ9ZnVuY3Rpb24oYSl7cihhLnRhcmdldC5yZXN1bHQpPyhpLmV4ZWNDbWQoXCJpbnNlcnRJbWFnZVwiLG4ucmVzdWx0LCExLCEwKSxlKFsnaW1nW3NyYz1cIicsbi5yZXN1bHQsJ1wiXTpub3QoW2FsdF0pJ10uam9pbihcIlwiKSxpLiRib3gpLmF0dHIoXCJhbHRcIixsLmFsdCksaS5jbG9zZU1vZGFsKCkpOmkuYWRkRXJyb3JPbk1vZGFsRmllbGQoZShcImlucHV0W3R5cGU9ZmlsZV1cIix0KSxpLmxhbmcuZXJySW52YWxpZEltYWdlKX0sbi5yZWFkQXNEYXRhVVJMKGEpfSk7ZShcImlucHV0W3R5cGU9ZmlsZV1cIikub24oXCJjaGFuZ2VcIixmdW5jdGlvbihlKXthPWUudGFyZ2V0LmZpbGVzWzBdfSl9fTtpLmFkZEJ0bkRlZihcImJhc2U2NFwiLHQpfX19fSl9KGpRdWVyeSk7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIHRydW1ib3d5Zy5jb2xvcnMuanMgdjEuMlxuICogQ29sb3JzIHBpY2tlciBwbHVnaW4gZm9yIFRydW1ib3d5Z1xuICogaHR0cDovL2FsZXgtZC5naXRodWIuY29tL1RydW1ib3d5Z1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEF1dGhvciA6IEFsZXhhbmRyZSBEZW1vZGUgKEFsZXgtRClcbiAqICAgICAgICAgIFR3aXR0ZXIgOiBAQWxleGFuZHJlRGVtb2RlXG4gKiAgICAgICAgICBXZWJzaXRlIDogYWxleC1kLmZyXG4gKi9cblxuKGZ1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgbGFuZ3M6IHtcbiAgICAgICAgICAgIC8vIGpzaGludCBjYW1lbGNhc2U6ZmFsc2VcbiAgICAgICAgICAgIGNzOiB7XG4gICAgICAgICAgICAgICAgZm9yZUNvbG9yOiAnQmFydmEgdGV4dHUnLFxuICAgICAgICAgICAgICAgIGJhY2tDb2xvcjogJ0JhcnZhIHBvemFkw60nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW46IHtcbiAgICAgICAgICAgICAgICBmb3JlQ29sb3I6ICdUZXh0IGNvbG9yJyxcbiAgICAgICAgICAgICAgICBiYWNrQ29sb3I6ICdCYWNrZ3JvdW5kIGNvbG9yJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhOiB7XG4gICAgICAgICAgICAgICAgZm9yZUNvbG9yOiAnVGVrc3RmYXJ2ZScsXG4gICAgICAgICAgICAgICAgYmFja0NvbG9yOiAnQmFnZ3J1bmRzZmFydmUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnI6IHtcbiAgICAgICAgICAgICAgICBmb3JlQ29sb3I6ICdDb3VsZXVyIGR1IHRleHRlJyxcbiAgICAgICAgICAgICAgICBiYWNrQ29sb3I6ICdDb3VsZXVyIGRlIGZvbmQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGU6IHtcbiAgICAgICAgICAgICAgICBmb3JlQ29sb3I6ICdUZXh0ZmFyYmUnLFxuICAgICAgICAgICAgICAgIGJhY2tDb2xvcjogJ0hpbnRlcmdydW5kZmFyYmUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmw6IHtcbiAgICAgICAgICAgICAgICBmb3JlQ29sb3I6ICdUZWtzdGtsZXVyJyxcbiAgICAgICAgICAgICAgICBiYWNrQ29sb3I6ICdBY2h0ZXJncm9uZGtsZXVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNrOiB7XG4gICAgICAgICAgICAgICAgZm9yZUNvbG9yOiAnRmFyYmEgdGV4dHUnLFxuICAgICAgICAgICAgICAgIGJhY2tDb2xvcjogJ0ZhcmJhIHBvemFkaWEnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgemhfY246IHtcbiAgICAgICAgICAgICAgICBmb3JlQ29sb3I6ICfmloflrZfpopzoibInLFxuICAgICAgICAgICAgICAgIGJhY2tDb2xvcjogJ+iDjOaZr+minOiJsidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6aF90dzoge1xuICAgICAgICAgICAgICAgIGZvcmVDb2xvcjogJ+aWh+Wtl+mhj+iJsicsXG4gICAgICAgICAgICAgICAgYmFja0NvbG9yOiAn6IOM5pmv6aGP6ImyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1OiB7XG4gICAgICAgICAgICAgICAgZm9yZUNvbG9yOiAn0KbQstC10YIg0YLQtdC60YHRgtCwJyxcbiAgICAgICAgICAgICAgICBiYWNrQ29sb3I6ICfQptCy0LXRgiDQstGL0LTQtdC70LXQvdC40Y8g0YLQtdC60YHRgtCwJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGphOiB7XG4gICAgICAgICAgICAgICAgZm9yZUNvbG9yOiAn5paH5a2X6ImyJyxcbiAgICAgICAgICAgICAgICBiYWNrQ29sb3I6ICfog4zmma/oibInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHI6IHtcbiAgICAgICAgICAgICAgICBmb3JlQ29sb3I6ICdZYXrEsSByZW5naScsXG4gICAgICAgICAgICAgICAgYmFja0NvbG9yOiAnQXJrYXBsYW4gcmVuZ2knXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGpzaGludCBjYW1lbGNhc2U6dHJ1ZVxuXG5cbiAgICBmdW5jdGlvbiBoZXgoeCkge1xuICAgICAgICByZXR1cm4gKCcwJyArIHBhcnNlSW50KHgpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbG9yVG9IZXgocmdiKSB7XG4gICAgICAgIGlmIChyZ2Iuc2VhcmNoKCdyZ2InKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiByZ2IucmVwbGFjZSgnIycsICcnKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZ2IgPT09ICdyZ2JhKDAsIDAsIDAsIDApJykge1xuICAgICAgICAgICAgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZ2IgPSByZ2IubWF0Y2goL15yZ2JhP1xcKChcXGQrKSxcXHMqKFxcZCspLFxccyooXFxkKykoPzosXFxzKihcXGQrKSk/XFwpJC8pO1xuICAgICAgICAgICAgcmV0dXJuIGhleChyZ2JbMV0pICsgaGV4KHJnYlsyXSkgKyBoZXgocmdiWzNdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbG9yVGFnSGFuZGxlcihlbGVtZW50LCB0cnVtYm93eWcpIHtcbiAgICAgICAgdmFyIHRhZ3MgPSBbXTtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0YWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFja2dyb3VuZCBjb2xvclxuICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgIT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgYmFja0NvbG9yID0gY29sb3JUb0hleChlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvcik7XG4gICAgICAgICAgICBpZiAodHJ1bWJvd3lnLm8ucGx1Z2lucy5jb2xvcnMuY29sb3JMaXN0LmluZGV4T2YoYmFja0NvbG9yKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFncy5wdXNoKCdiYWNrQ29sb3InICsgYmFja0NvbG9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFncy5wdXNoKCdiYWNrQ29sb3JGcmVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0ZXh0IGNvbG9yXG4gICAgICAgIHZhciBmb3JlQ29sb3I7XG4gICAgICAgIGlmIChlbGVtZW50LnN0eWxlLmNvbG9yICE9PSAnJykge1xuICAgICAgICAgICAgZm9yZUNvbG9yID0gY29sb3JUb0hleChlbGVtZW50LnN0eWxlLmNvbG9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnY29sb3InKSkge1xuICAgICAgICAgICAgZm9yZUNvbG9yID0gY29sb3JUb0hleChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY29sb3InKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcmVDb2xvcikge1xuICAgICAgICAgICAgaWYgKHRydW1ib3d5Zy5vLnBsdWdpbnMuY29sb3JzLmNvbG9yTGlzdC5pbmRleE9mKGZvcmVDb2xvcikgPj0gMCkge1xuICAgICAgICAgICAgICAgIHRhZ3MucHVzaCgnZm9yZUNvbG9yJyArIGZvcmVDb2xvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhZ3MucHVzaCgnZm9yZUNvbG9yRnJlZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhZ3M7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBjb2xvckxpc3Q6IFsnZmZmZmZmJywgJzAwMDAwMCcsICdlZWVjZTEnLCAnMWY0OTdkJywgJzRmODFiZCcsICdjMDUwNGQnLCAnOWJiYjU5JywgJzgwNjRhMicsICc0YmFjYzYnLCAnZjc5NjQ2JywgJ2ZmZmYwMCcsICdmMmYyZjInLCAnN2Y3ZjdmJywgJ2RkZDljMycsICdjNmQ5ZjAnLCAnZGJlNWYxJywgJ2YyZGNkYicsICdlYmYxZGQnLCAnZTVlMGVjJywgJ2RiZWVmMycsICdmZGVhZGEnLCAnZmZmMmNhJywgJ2Q4ZDhkOCcsICc1OTU5NTknLCAnYzRiZDk3JywgJzhkYjNlMicsICdiOGNjZTQnLCAnZTViOWI3JywgJ2Q3ZTNiYycsICdjY2MxZDknLCAnYjdkZGU4JywgJ2ZiZDViNScsICdmZmU2OTQnLCAnYmZiZmJmJywgJzNmM2YzZicsICc5Mzg5NTMnLCAnNTQ4ZGQ0JywgJzk1YjNkNycsICdkOTk2OTQnLCAnYzNkNjliJywgJ2IyYTJjNycsICdiN2RkZTgnLCAnZmFjMDhmJywgJ2YyYzMxNCcsICdhNWE1YTUnLCAnMjYyNjI2JywgJzQ5NDQyOScsICcxNzM2NWQnLCAnMzY2MDkyJywgJzk1MzczNCcsICc3NjkyM2MnLCAnNWY0OTdhJywgJzkyY2RkYycsICdlMzZjMDknLCAnYzA5MTAwJywgJzdmN2Y3ZicsICcwYzBjMGMnLCAnMWQxYjEwJywgJzBmMjQzZScsICcyNDQwNjEnLCAnNjMyNDIzJywgJzRmNjEyOCcsICczZjMxNTEnLCAnMzE4NTliJywgJzk3NDgwNicsICc3ZjYwMDAnXVxuICAgIH07XG5cbiAgICAvLyBBZGQgYWxsIGNvbG9ycyBpbiB0d28gZHJvcGRvd25zXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAodHJ1bWJvd3lnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5vLnBsdWdpbnMuY29sb3JzID0gdHJ1bWJvd3lnLm8ucGx1Z2lucy5jb2xvcnMgfHwgZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JlQ29sb3JCdG5EZWYgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd246IGJ1aWxkRHJvcGRvd24oJ2ZvcmVDb2xvcicsIHRydW1ib3d5ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ29sb3JCdG5EZWYgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd246IGJ1aWxkRHJvcGRvd24oJ2JhY2tDb2xvcicsIHRydW1ib3d5ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLmFkZEJ0bkRlZignZm9yZUNvbG9yJywgZm9yZUNvbG9yQnRuRGVmKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLmFkZEJ0bkRlZignYmFja0NvbG9yJywgYmFja0NvbG9yQnRuRGVmKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRhZ0hhbmRsZXI6IGNvbG9yVGFnSGFuZGxlclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBidWlsZERyb3Bkb3duKGZuLCB0cnVtYm93eWcpIHtcbiAgICAgICAgdmFyIGRyb3Bkb3duID0gW107XG5cbiAgICAgICAgJC5lYWNoKHRydW1ib3d5Zy5vLnBsdWdpbnMuY29sb3JzLmNvbG9yTGlzdCwgZnVuY3Rpb24gKGksIGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgYnRuID0gZm4gKyBjb2xvcixcbiAgICAgICAgICAgICAgICBidG5EZWYgPSB7XG4gICAgICAgICAgICAgICAgICAgIGZuOiBmbixcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VDc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtOiAnIycgKyBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdiYWNrZ3JvdW5kLWNvbG9yOiAjJyArIGNvbG9yICsgJzsnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRydW1ib3d5Zy5hZGRCdG5EZWYoYnRuLCBidG5EZWYpO1xuICAgICAgICAgICAgZHJvcGRvd24ucHVzaChidG4pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgcmVtb3ZlQ29sb3JCdXR0b25OYW1lID0gZm4gKyAnUmVtb3ZlJyxcbiAgICAgICAgICAgIHJlbW92ZUNvbG9yQnRuRGVmID0ge1xuICAgICAgICAgICAgICAgIGZuOiAncmVtb3ZlRm9ybWF0JyxcbiAgICAgICAgICAgICAgICBwYXJhbTogZm4sXG4gICAgICAgICAgICAgICAgc3R5bGU6ICdiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBUUFBQUFFQ0FZQUFBQ3A4WjUrQUFBQUcwbEVRVlFJVzJOa1FBQWZFSk1SbXdCWWhvR0JZUXRNQllvQUFEemlBcDBqdEpUZ0FBQUFBRWxGVGtTdVFtQ0MpOydcbiAgICAgICAgICAgIH07XG4gICAgICAgIHRydW1ib3d5Zy5hZGRCdG5EZWYocmVtb3ZlQ29sb3JCdXR0b25OYW1lLCByZW1vdmVDb2xvckJ0bkRlZik7XG4gICAgICAgIGRyb3Bkb3duLnB1c2gocmVtb3ZlQ29sb3JCdXR0b25OYW1lKTtcblxuICAgICAgICAvLyBhZGQgZnJlZSBjb2xvciBidG5cbiAgICAgICAgdmFyIGZyZWVDb2xvckJ1dHRvbk5hbWUgPSBmbiArICdGcmVlJyxcbiAgICAgICAgICAgIGZyZWVDb2xvckJ0bkRlZiA9IHtcbiAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcub3Blbk1vZGFsSW5zZXJ0KHRydW1ib3d5Zy5sYW5nW2ZuXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlQ3NzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJyNGRkZGRkYnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLmV4ZWNDbWQoZm4sIHZhbHVlcy5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnIycsXG4gICAgICAgICAgICAgICAgLy8gc3R5bGUgYWRqdXN0IGZvciBkaXNwbGF5aW5nIHRoZSB0ZXh0XG4gICAgICAgICAgICAgICAgc3R5bGU6ICd0ZXh0LWluZGVudDogMDtsaW5lLWhlaWdodDogMjBweDtwYWRkaW5nOiAwIDVweDsnXG4gICAgICAgICAgICB9O1xuICAgICAgICB0cnVtYm93eWcuYWRkQnRuRGVmKGZyZWVDb2xvckJ1dHRvbk5hbWUsIGZyZWVDb2xvckJ0bkRlZik7XG4gICAgICAgIGRyb3Bkb3duLnB1c2goZnJlZUNvbG9yQnV0dG9uTmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIGRyb3Bkb3duO1xuICAgIH1cbn0pKGpRdWVyeSk7XG4iLCIhZnVuY3Rpb24obyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihvKXtyZXR1cm4oXCIwXCIrcGFyc2VJbnQobykudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9ZnVuY3Rpb24gZShvKXtyZXR1cm4gby5zZWFyY2goXCJyZ2JcIik9PT0tMT9vLnJlcGxhY2UoXCIjXCIsXCJcIik6XCJyZ2JhKDAsIDAsIDAsIDApXCI9PT1vP1widHJhbnNwYXJlbnRcIjoobz1vLm1hdGNoKC9ecmdiYT9cXCgoXFxkKyksXFxzKihcXGQrKSxcXHMqKFxcZCspKD86LFxccyooXFxkKykpP1xcKSQvKSxyKG9bMV0pK3Iob1syXSkrcihvWzNdKSl9ZnVuY3Rpb24gYShvLHIpe3ZhciBhPVtdO2lmKCFvLnN0eWxlKXJldHVybiBhO2lmKFwiXCIhPT1vLnN0eWxlLmJhY2tncm91bmRDb2xvcil7dmFyIGY9ZShvLnN0eWxlLmJhY2tncm91bmRDb2xvcik7ci5vLnBsdWdpbnMuY29sb3JzLmNvbG9yTGlzdC5pbmRleE9mKGYpPj0wP2EucHVzaChcImJhY2tDb2xvclwiK2YpOmEucHVzaChcImJhY2tDb2xvckZyZWVcIil9dmFyIGM7cmV0dXJuXCJcIiE9PW8uc3R5bGUuY29sb3I/Yz1lKG8uc3R5bGUuY29sb3IpOm8uaGFzQXR0cmlidXRlKFwiY29sb3JcIikmJihjPWUoby5nZXRBdHRyaWJ1dGUoXCJjb2xvclwiKSkpLGMmJihyLm8ucGx1Z2lucy5jb2xvcnMuY29sb3JMaXN0LmluZGV4T2YoYyk+PTA/YS5wdXNoKFwiZm9yZUNvbG9yXCIrYyk6YS5wdXNoKFwiZm9yZUNvbG9yRnJlZVwiKSksYX1mdW5jdGlvbiBmKHIsZSl7dmFyIGE9W107by5lYWNoKGUuby5wbHVnaW5zLmNvbG9ycy5jb2xvckxpc3QsZnVuY3Rpb24obyxmKXt2YXIgYz1yK2YsbD17Zm46cixmb3JjZUNzczohMCxwYXJhbTpcIiNcIitmLHN0eWxlOlwiYmFja2dyb3VuZC1jb2xvcjogI1wiK2YrXCI7XCJ9O2UuYWRkQnRuRGVmKGMsbCksYS5wdXNoKGMpfSk7dmFyIGY9citcIlJlbW92ZVwiLGM9e2ZuOlwicmVtb3ZlRm9ybWF0XCIscGFyYW06cixzdHlsZTpcImJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFRQUFBQUVDQVlBQUFDcDhaNStBQUFBRzBsRVFWUUlXMk5rUUFBZkVKTVJtd0JZaG9HQllRdE1CWW9BQUR6aUFwMGp0SlRnQUFBQUFFbEZUa1N1UW1DQyk7XCJ9O2UuYWRkQnRuRGVmKGYsYyksYS5wdXNoKGYpO3ZhciBsPXIrXCJGcmVlXCIsZD17Zm46ZnVuY3Rpb24oKXtlLm9wZW5Nb2RhbEluc2VydChlLmxhbmdbcl0se2NvbG9yOntsYWJlbDpyLGZvcmNlQ3NzOiEwLHR5cGU6XCJjb2xvclwiLHZhbHVlOlwiI0ZGRkZGRlwifX0sZnVuY3Rpb24obyl7cmV0dXJuIGUuZXhlY0NtZChyLG8uY29sb3IpLCEwfSl9LHRleHQ6XCIjXCIsc3R5bGU6XCJ0ZXh0LWluZGVudDogMDtsaW5lLWhlaWdodDogMjBweDtwYWRkaW5nOiAwIDVweDtcIn07cmV0dXJuIGUuYWRkQnRuRGVmKGwsZCksYS5wdXNoKGwpLGF9by5leHRlbmQoITAsby50cnVtYm93eWcse2xhbmdzOntjczp7Zm9yZUNvbG9yOlwiQmFydmEgdGV4dHVcIixiYWNrQ29sb3I6XCJCYXJ2YSBwb3phZMOtXCJ9LGVuOntmb3JlQ29sb3I6XCJUZXh0IGNvbG9yXCIsYmFja0NvbG9yOlwiQmFja2dyb3VuZCBjb2xvclwifSxkYTp7Zm9yZUNvbG9yOlwiVGVrc3RmYXJ2ZVwiLGJhY2tDb2xvcjpcIkJhZ2dydW5kc2ZhcnZlXCJ9LGZyOntmb3JlQ29sb3I6XCJDb3VsZXVyIGR1IHRleHRlXCIsYmFja0NvbG9yOlwiQ291bGV1ciBkZSBmb25kXCJ9LGRlOntmb3JlQ29sb3I6XCJUZXh0ZmFyYmVcIixiYWNrQ29sb3I6XCJIaW50ZXJncnVuZGZhcmJlXCJ9LG5sOntmb3JlQ29sb3I6XCJUZWtzdGtsZXVyXCIsYmFja0NvbG9yOlwiQWNodGVyZ3JvbmRrbGV1clwifSxzazp7Zm9yZUNvbG9yOlwiRmFyYmEgdGV4dHVcIixiYWNrQ29sb3I6XCJGYXJiYSBwb3phZGlhXCJ9LHpoX2NuOntmb3JlQ29sb3I6XCLmloflrZfpopzoibJcIixiYWNrQ29sb3I6XCLog4zmma/popzoibJcIn0semhfdHc6e2ZvcmVDb2xvcjpcIuaWh+Wtl+mhj+iJslwiLGJhY2tDb2xvcjpcIuiDjOaZr+mhj+iJslwifSxydTp7Zm9yZUNvbG9yOlwi0KbQstC10YIg0YLQtdC60YHRgtCwXCIsYmFja0NvbG9yOlwi0KbQstC10YIg0LLRi9C00LXQu9C10L3QuNGPINGC0LXQutGB0YLQsFwifSxqYTp7Zm9yZUNvbG9yOlwi5paH5a2X6ImyXCIsYmFja0NvbG9yOlwi6IOM5pmv6ImyXCJ9LHRyOntmb3JlQ29sb3I6XCJZYXrEsSByZW5naVwiLGJhY2tDb2xvcjpcIkFya2FwbGFuIHJlbmdpXCJ9fX0pO3ZhciBjPXtjb2xvckxpc3Q6W1wiZmZmZmZmXCIsXCIwMDAwMDBcIixcImVlZWNlMVwiLFwiMWY0OTdkXCIsXCI0ZjgxYmRcIixcImMwNTA0ZFwiLFwiOWJiYjU5XCIsXCI4MDY0YTJcIixcIjRiYWNjNlwiLFwiZjc5NjQ2XCIsXCJmZmZmMDBcIixcImYyZjJmMlwiLFwiN2Y3ZjdmXCIsXCJkZGQ5YzNcIixcImM2ZDlmMFwiLFwiZGJlNWYxXCIsXCJmMmRjZGJcIixcImViZjFkZFwiLFwiZTVlMGVjXCIsXCJkYmVlZjNcIixcImZkZWFkYVwiLFwiZmZmMmNhXCIsXCJkOGQ4ZDhcIixcIjU5NTk1OVwiLFwiYzRiZDk3XCIsXCI4ZGIzZTJcIixcImI4Y2NlNFwiLFwiZTViOWI3XCIsXCJkN2UzYmNcIixcImNjYzFkOVwiLFwiYjdkZGU4XCIsXCJmYmQ1YjVcIixcImZmZTY5NFwiLFwiYmZiZmJmXCIsXCIzZjNmM2ZcIixcIjkzODk1M1wiLFwiNTQ4ZGQ0XCIsXCI5NWIzZDdcIixcImQ5OTY5NFwiLFwiYzNkNjliXCIsXCJiMmEyYzdcIixcImI3ZGRlOFwiLFwiZmFjMDhmXCIsXCJmMmMzMTRcIixcImE1YTVhNVwiLFwiMjYyNjI2XCIsXCI0OTQ0MjlcIixcIjE3MzY1ZFwiLFwiMzY2MDkyXCIsXCI5NTM3MzRcIixcIjc2OTIzY1wiLFwiNWY0OTdhXCIsXCI5MmNkZGNcIixcImUzNmMwOVwiLFwiYzA5MTAwXCIsXCI3ZjdmN2ZcIixcIjBjMGMwY1wiLFwiMWQxYjEwXCIsXCIwZjI0M2VcIixcIjI0NDA2MVwiLFwiNjMyNDIzXCIsXCI0ZjYxMjhcIixcIjNmMzE1MVwiLFwiMzE4NTliXCIsXCI5NzQ4MDZcIixcIjdmNjAwMFwiXX07by5leHRlbmQoITAsby50cnVtYm93eWcse3BsdWdpbnM6e2NvbG9yOntpbml0OmZ1bmN0aW9uKG8pe28uby5wbHVnaW5zLmNvbG9ycz1vLm8ucGx1Z2lucy5jb2xvcnN8fGM7dmFyIHI9e2Ryb3Bkb3duOmYoXCJmb3JlQ29sb3JcIixvKX0sZT17ZHJvcGRvd246ZihcImJhY2tDb2xvclwiLG8pfTtvLmFkZEJ0bkRlZihcImZvcmVDb2xvclwiLHIpLG8uYWRkQnRuRGVmKFwiYmFja0NvbG9yXCIsZSl9LHRhZ0hhbmRsZXI6YX19fSl9KGpRdWVyeSk7IiwiKGZ1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgbGFuZ3M6IHtcbiAgICAgICAgICAgIC8vIGpzaGludCBjYW1lbGNhc2U6ZmFsc2VcbiAgICAgICAgICAgIGVuOiB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0ZvbnQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGE6IHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnU2tyaWZ0dHlwZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcjoge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdQb2xpY2UnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGU6IHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnU2NocmlmdGFydCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBubDoge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMZXR0ZXJ0eXBlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyOiB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1lhesSxIFRpcGknXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgemhfdHc6e1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICflrZfpq5QnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8ganNoaW50IGNhbWVsY2FzZTp0cnVlXG5cbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIGZvbnRMaXN0OiBbXG4gICAgICAgICAgICB7bmFtZTogJ0FyaWFsJywgZmFtaWx5OiAnQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZid9LFxuICAgICAgICAgICAge25hbWU6ICdBcmlhbCBCbGFjaycsIGZhbWlseTogJ1xcJ0FyaWFsIEJsYWNrXFwnLCBHYWRnZXQsIHNhbnMtc2VyaWYnfSxcbiAgICAgICAgICAgIHtuYW1lOiAnQ29taWMgU2FucycsIGZhbWlseTogJ1xcJ0NvbWljIFNhbnMgTVNcXCcsIFRleHRpbGUsIGN1cnNpdmUsIHNhbnMtc2VyaWYnfSxcbiAgICAgICAgICAgIHtuYW1lOiAnQ291cmllciBOZXcnLCBmYW1pbHk6ICdcXCdDb3VyaWVyIE5ld1xcJywgQ291cmllciwgbW9ub3NwYWNlJ30sXG4gICAgICAgICAgICB7bmFtZTogJ0dlb3JnaWEnLCBmYW1pbHk6ICdHZW9yZ2lhLCBzZXJpZid9LFxuICAgICAgICAgICAge25hbWU6ICdJbXBhY3QnLCBmYW1pbHk6ICdJbXBhY3QsIENoYXJjb2FsLCBzYW5zLXNlcmlmJ30sXG4gICAgICAgICAgICB7bmFtZTogJ0x1Y2lkYSBDb25zb2xlJywgZmFtaWx5OiAnXFwnTHVjaWRhIENvbnNvbGVcXCcsIE1vbmFjbywgbW9ub3NwYWNlJ30sXG4gICAgICAgICAgICB7bmFtZTogJ0x1Y2lkYSBTYW5zJywgZmFtaWx5OiAnXFwnTHVjaWRhIFNhbnMgVW5jaWRlXFwnLCBcXCdMdWNpZGEgR3JhbmRlXFwnLCBzYW5zLXNlcmlmJ30sXG4gICAgICAgICAgICB7bmFtZTogJ1BhbGF0aW5vJywgZmFtaWx5OiAnXFwnUGFsYXRpbm8gTGlub3R5cGVcXCcsIFxcJ0Jvb2sgQW50aXF1YVxcJywgUGFsYXRpbm8sIHNlcmlmJ30sXG4gICAgICAgICAgICB7bmFtZTogJ1RhaG9tYScsIGZhbWlseTogJ1RhaG9tYSwgR2VuZXZhLCBzYW5zLXNlcmlmJ30sXG4gICAgICAgICAgICB7bmFtZTogJ1RpbWVzIE5ldyBSb21hbicsIGZhbWlseTogJ1xcJ1RpbWVzIE5ldyBSb21hblxcJywgVGltZXMsIHNlcmlmJ30sXG4gICAgICAgICAgICB7bmFtZTogJ1RyZWJ1Y2hldCcsIGZhbWlseTogJ1xcJ1RyZWJ1Y2hldCBNU1xcJywgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJ30sXG4gICAgICAgICAgICB7bmFtZTogJ1ZlcmRhbmEnLCBmYW1pbHk6ICdWZXJkYW5hLCBHZW5ldmEsIHNhbnMtc2VyaWYnfVxuICAgICAgICBdXG4gICAgfTtcblxuICAgIC8vIEFkZCBkcm9wZG93biB3aXRoIHdlYiBzYWZlIGZvbnRzXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgICAgZm9udGZhbWlseToge1xuICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICh0cnVtYm93eWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLm8ucGx1Z2lucy5mb250ZmFtaWx5ID0gdHJ1bWJvd3lnLm8ucGx1Z2lucy5mb250ZmFtaWx5IHx8IGRlZmF1bHRPcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuYWRkQnRuRGVmKCdmb250ZmFtaWx5Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd246IGJ1aWxkRHJvcGRvd24odHJ1bWJvd3lnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ljb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdHJ1bWJvd3lnLmxhbmcuZm9udEZhbWlseVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGJ1aWxkRHJvcGRvd24odHJ1bWJvd3lnKSB7XG4gICAgICAgIHZhciBkcm9wZG93biA9IFtdO1xuXG4gICAgICAgICQuZWFjaCh0cnVtYm93eWcuby5wbHVnaW5zLmZvbnRmYW1pbHkuZm9udExpc3QsIGZ1bmN0aW9uIChpbmRleCwgZm9udCkge1xuICAgICAgICAgICAgdHJ1bWJvd3lnLmFkZEJ0bkRlZignZm9udGZhbWlseV8nICsgaW5kZXgsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJzxzcGFuIHN0eWxlPVwiZm9udC1mYW1pbHk6ICcgKyBmb250LmZhbWlseSArICc7XCI+JyArIGZvbnQubmFtZSArICc8L3NwYW4+JyxcbiAgICAgICAgICAgICAgICBoYXNJY29uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuZXhlY0NtZCgnZm9udE5hbWUnLCBmb250LmZhbWlseSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkcm9wZG93bi5wdXNoKCdmb250ZmFtaWx5XycgKyBpbmRleCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkcm9wZG93bjtcbiAgICB9XG59KShqUXVlcnkpO1xuIiwiIWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4obil7dmFyIGk9W107cmV0dXJuIGEuZWFjaChuLm8ucGx1Z2lucy5mb250ZmFtaWx5LmZvbnRMaXN0LGZ1bmN0aW9uKGEsZSl7bi5hZGRCdG5EZWYoXCJmb250ZmFtaWx5X1wiK2Ese3RpdGxlOic8c3BhbiBzdHlsZT1cImZvbnQtZmFtaWx5OiAnK2UuZmFtaWx5Kyc7XCI+JytlLm5hbWUrXCI8L3NwYW4+XCIsaGFzSWNvbjohMSxmbjpmdW5jdGlvbigpe24uZXhlY0NtZChcImZvbnROYW1lXCIsZS5mYW1pbHksITApfX0pLGkucHVzaChcImZvbnRmYW1pbHlfXCIrYSl9KSxpfWEuZXh0ZW5kKCEwLGEudHJ1bWJvd3lnLHtsYW5nczp7ZW46e2ZvbnRGYW1pbHk6XCJGb250XCJ9LGRhOntmb250RmFtaWx5OlwiU2tyaWZ0dHlwZVwifSxmcjp7Zm9udEZhbWlseTpcIlBvbGljZVwifSxkZTp7Zm9udEZhbWlseTpcIlNjaHJpZnRhcnRcIn0sbmw6e2ZvbnRGYW1pbHk6XCJMZXR0ZXJ0eXBlXCJ9LHRyOntmb250RmFtaWx5OlwiWWF6xLEgVGlwaVwifSx6aF90dzp7Zm9udEZhbWlseTpcIuWtl+mrlFwifX19KTt2YXIgaT17Zm9udExpc3Q6W3tuYW1lOlwiQXJpYWxcIixmYW1pbHk6XCJBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmXCJ9LHtuYW1lOlwiQXJpYWwgQmxhY2tcIixmYW1pbHk6XCInQXJpYWwgQmxhY2snLCBHYWRnZXQsIHNhbnMtc2VyaWZcIn0se25hbWU6XCJDb21pYyBTYW5zXCIsZmFtaWx5OlwiJ0NvbWljIFNhbnMgTVMnLCBUZXh0aWxlLCBjdXJzaXZlLCBzYW5zLXNlcmlmXCJ9LHtuYW1lOlwiQ291cmllciBOZXdcIixmYW1pbHk6XCInQ291cmllciBOZXcnLCBDb3VyaWVyLCBtb25vc3BhY2VcIn0se25hbWU6XCJHZW9yZ2lhXCIsZmFtaWx5OlwiR2VvcmdpYSwgc2VyaWZcIn0se25hbWU6XCJJbXBhY3RcIixmYW1pbHk6XCJJbXBhY3QsIENoYXJjb2FsLCBzYW5zLXNlcmlmXCJ9LHtuYW1lOlwiTHVjaWRhIENvbnNvbGVcIixmYW1pbHk6XCInTHVjaWRhIENvbnNvbGUnLCBNb25hY28sIG1vbm9zcGFjZVwifSx7bmFtZTpcIkx1Y2lkYSBTYW5zXCIsZmFtaWx5OlwiJ0x1Y2lkYSBTYW5zIFVuY2lkZScsICdMdWNpZGEgR3JhbmRlJywgc2Fucy1zZXJpZlwifSx7bmFtZTpcIlBhbGF0aW5vXCIsZmFtaWx5OlwiJ1BhbGF0aW5vIExpbm90eXBlJywgJ0Jvb2sgQW50aXF1YScsIFBhbGF0aW5vLCBzZXJpZlwifSx7bmFtZTpcIlRhaG9tYVwiLGZhbWlseTpcIlRhaG9tYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCJ9LHtuYW1lOlwiVGltZXMgTmV3IFJvbWFuXCIsZmFtaWx5OlwiJ1RpbWVzIE5ldyBSb21hbicsIFRpbWVzLCBzZXJpZlwifSx7bmFtZTpcIlRyZWJ1Y2hldFwiLGZhbWlseTpcIidUcmVidWNoZXQgTVMnLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWZcIn0se25hbWU6XCJWZXJkYW5hXCIsZmFtaWx5OlwiVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCJ9XX07YS5leHRlbmQoITAsYS50cnVtYm93eWcse3BsdWdpbnM6e2ZvbnRmYW1pbHk6e2luaXQ6ZnVuY3Rpb24oYSl7YS5vLnBsdWdpbnMuZm9udGZhbWlseT1hLm8ucGx1Z2lucy5mb250ZmFtaWx5fHxpLGEuYWRkQnRuRGVmKFwiZm9udGZhbWlseVwiLHtkcm9wZG93bjpuKGEpLGhhc0ljb246ITEsdGV4dDphLmxhbmcuZm9udEZhbWlseX0pfX19fSl9KGpRdWVyeSk7IiwiKGZ1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgbGFuZ3M6IHtcbiAgICAgICAgICAgIC8vIGpzaGludCBjYW1lbGNhc2U6ZmFsc2VcbiAgICAgICAgICAgIGVuOiB7XG4gICAgICAgICAgICAgICAgZm9udHNpemU6ICdGb250IHNpemUnLFxuICAgICAgICAgICAgICAgIGZvbnRzaXplczoge1xuICAgICAgICAgICAgICAgICAgICAneC1zbWFsbCc6ICdFeHRyYSBzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICdzbWFsbCc6ICdTbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICdtZWRpdW0nOiAnUmVndWxhcicsXG4gICAgICAgICAgICAgICAgICAgICdsYXJnZSc6ICdMYXJnZScsXG4gICAgICAgICAgICAgICAgICAgICd4LWxhcmdlJzogJ0V4dHJhIGxhcmdlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2N1c3RvbSc6ICdDdXN0b20nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb250Q3VzdG9tU2l6ZToge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0N1c3RvbSBGb250IFNpemUnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0ZvbnQgU2l6ZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnNDhweCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXM6IHtcbiAgICAgICAgICAgICAgICBmb250c2l6ZTogJ1RhbWHDsW8gZGUgRnVlbnRlJyxcbiAgICAgICAgICAgICAgICBmb250c2l6ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3gtc21hbGwnOiAnRXh0cmEgcGVxdWXDsWEnLFxuICAgICAgICAgICAgICAgICAgICAnc21hbGwnOiAnUGVndWXDsWEnLFxuICAgICAgICAgICAgICAgICAgICAnbWVkaXVtJzogJ1JlZ3VsYXInLFxuICAgICAgICAgICAgICAgICAgICAnbGFyZ2UnOiAnR3JhbmRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3gtbGFyZ2UnOiAnRXh0cmEgR3JhbmRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2N1c3RvbSc6ICdDdXN0b21pemFkYSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZvbnRDdXN0b21TaXplOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnVGFtYcOxbyBkZSBGdWVudGUgQ3VzdG9taXphZGEnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1RhbWHDsW8gZGUgRnVlbnRlJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICc0OHB4J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYToge1xuICAgICAgICAgICAgICAgIGZvbnRzaXplOiAnU2tyaWZ0c3TDuHJyZWxzZScsXG4gICAgICAgICAgICAgICAgZm9udHNpemVzOiB7XG4gICAgICAgICAgICAgICAgICAgICd4LXNtYWxsJzogJ0Vrc3RyYSBsaWxsZScsXG4gICAgICAgICAgICAgICAgICAgICdzbWFsbCc6ICdMaWxsZScsXG4gICAgICAgICAgICAgICAgICAgICdtZWRpdW0nOiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgJ2xhcmdlJzogJ1N0b3InLFxuICAgICAgICAgICAgICAgICAgICAneC1sYXJnZSc6ICdFa3N0cmEgc3RvcicsXG4gICAgICAgICAgICAgICAgICAgICdjdXN0b20nOiAnQnJ1Z2VyZGVmaW5lcmV0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcjoge1xuICAgICAgICAgICAgICAgIGZvbnRzaXplOiAnVGFpbGxlIGRlIGxhIHBvbGljZScsXG4gICAgICAgICAgICAgICAgZm9udHNpemVzOiB7XG4gICAgICAgICAgICAgICAgICAgICd4LXNtYWxsJzogJ1Ryw6hzIHBldGl0JyxcbiAgICAgICAgICAgICAgICAgICAgJ3NtYWxsJzogJ1BldGl0JyxcbiAgICAgICAgICAgICAgICAgICAgJ21lZGl1bSc6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAnbGFyZ2UnOiAnR3JhbmQnLFxuICAgICAgICAgICAgICAgICAgICAneC1sYXJnZSc6ICdUcsOocyBncmFuZCcsXG4gICAgICAgICAgICAgICAgICAgICdjdXN0b20nOiAnRG91YW5lJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZToge1xuICAgICAgICAgICAgICAgIGZvbnRzaXplOiAnRm9udCBzaXplJyxcbiAgICAgICAgICAgICAgICBmb250c2l6ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3gtc21hbGwnOiAnU2VociBrbGVpbicsXG4gICAgICAgICAgICAgICAgICAgICdzbWFsbCc6ICdLbGVpbicsXG4gICAgICAgICAgICAgICAgICAgICdtZWRpdW0nOiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgJ2xhcmdlJzogJ0dyb8OfJyxcbiAgICAgICAgICAgICAgICAgICAgJ3gtbGFyZ2UnOiAnU2VociBncm/DnycsXG4gICAgICAgICAgICAgICAgICAgICdjdXN0b20nOiAnQmVudXR6ZXJkZWZpbmllcnQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb250Q3VzdG9tU2l6ZToge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0JlbnV0emVyZGVmaW5pZXJ0ZSBTY2hyaWZ0Z3LDtsOfZScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnU2NocmlmdGdyw7bDn2UnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJzQ4cHgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5sOiB7XG4gICAgICAgICAgICAgICAgZm9udHNpemU6ICdMZXR0ZXJncm9vdHRlJyxcbiAgICAgICAgICAgICAgICBmb250c2l6ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3gtc21hbGwnOiAnRXh0cmEga2xlaW4nLFxuICAgICAgICAgICAgICAgICAgICAnc21hbGwnOiAnS2xlaW4nLFxuICAgICAgICAgICAgICAgICAgICAnbWVkaXVtJzogJ05vcm1hYWwnLFxuICAgICAgICAgICAgICAgICAgICAnbGFyZ2UnOiAnR3Jvb3QnLFxuICAgICAgICAgICAgICAgICAgICAneC1sYXJnZSc6ICdFeHRyYSBncm9vdCcsXG4gICAgICAgICAgICAgICAgICAgICdjdXN0b20nOiAnVGlscGFzc2V0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cjoge1xuICAgICAgICAgICAgICAgIGZvbnRzaXplOiAnWWF6xLEgQm95dXR1JyxcbiAgICAgICAgICAgICAgICBmb250c2l6ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3gtc21hbGwnOiAnw4dvayBLw7zDp8O8aycsXG4gICAgICAgICAgICAgICAgICAgICdzbWFsbCc6ICdLw7zDp8O8aycsXG4gICAgICAgICAgICAgICAgICAgICdtZWRpdW0nOiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgJ2xhcmdlJzogJ0LDvHnDvGsnLFxuICAgICAgICAgICAgICAgICAgICAneC1sYXJnZSc6ICfDh29rIELDvHnDvGsnLFxuICAgICAgICAgICAgICAgICAgICAnY3VzdG9tJzogJ0fDtnJlbmVrJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6aF90dzoge1xuICAgICAgICAgICAgICAgIGZvbnRzaXplOiAn5a2X6auU5aSn5bCPJyxcbiAgICAgICAgICAgICAgICBmb250c2l6ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3gtc21hbGwnOiAn5pyA5bCPJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NtYWxsJzogJ+WwjycsXG4gICAgICAgICAgICAgICAgICAgICdtZWRpdW0nOiAn5LitJyxcbiAgICAgICAgICAgICAgICAgICAgJ2xhcmdlJzogJ+WkpycsXG4gICAgICAgICAgICAgICAgICAgICd4LWxhcmdlJzogJ+acgOWkpycsXG4gICAgICAgICAgICAgICAgICAgICdjdXN0b20nOiAn6Ieq6KiC5aSn5bCPJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZvbnRDdXN0b21TaXplOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6Ieq6KiC576p5a2X6auU5aSn5bCPJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflrZfpq5TlpKflsI8nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJzQ4cHgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8ganNoaW50IGNhbWVsY2FzZTp0cnVlXG5cbiAgICAvLyBBZGQgZHJvcGRvd24gd2l0aCBmb250IHNpemVzXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgICAgZm9udHNpemU6IHtcbiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAodHJ1bWJvd3lnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5hZGRCdG5EZWYoJ2ZvbnRzaXplJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd246IGJ1aWxkRHJvcGRvd24odHJ1bWJvd3lnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGJ1aWxkRHJvcGRvd24odHJ1bWJvd3lnKSB7XG4gICAgICAgIHZhciBkcm9wZG93biA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbJ3gtc21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3gtbGFyZ2UnXTtcblxuICAgICAgICAkLmVhY2goc2l6ZXMsIGZ1bmN0aW9uIChpbmRleCwgc2l6ZSkge1xuICAgICAgICAgICAgdHJ1bWJvd3lnLmFkZEJ0bkRlZignZm9udHNpemVfJyArIHNpemUsIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAnPHNwYW4gc3R5bGU9XCJmb250LXNpemU6ICcgKyBzaXplICsgJztcIj4nICsgdHJ1bWJvd3lnLmxhbmcuZm9udHNpemVzW3NpemVdICsgJzwvc3Bhbj4nLFxuICAgICAgICAgICAgICAgIGhhc0ljb246IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5leGVjQ21kKCdmb250U2l6ZScsIGluZGV4ICsgMSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkcm9wZG93bi5wdXNoKCdmb250c2l6ZV8nICsgc2l6ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmcmVlU2l6ZUJ1dHRvbk5hbWUgPSAnZm9udHNpemVfY3VzdG9tJyxcbiAgICAgICAgICAgIGZyZWVTaXplQnRuRGVmID0ge1xuICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5vcGVuTW9kYWxJbnNlcnQodHJ1bWJvd3lnLmxhbmcuZm9udEN1c3RvbVNpemUudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdHJ1bWJvd3lnLmxhbmcuZm9udEN1c3RvbVNpemUubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVtYm93eWcubGFuZy5mb250Q3VzdG9tU2l6ZS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSB0cnVtYm93eWcucmFuZ2Uuc3RhcnRDb250YWluZXIucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0ID0gdHJ1bWJvd3lnLmdldFJhbmdlVGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRleHQpLmh0bWwoKSA9PT0gc2VsZWN0ZWRUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGV4dCkuY3NzKCdmb250LXNpemUnLCB2YWx1ZXMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLnJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gJzxzcGFuIHN0eWxlPVwiZm9udC1zaXplOiAnICsgdmFsdWVzLnNpemUgKyAnO1wiPicgKyBzZWxlY3RlZFRleHQgKyAnPC9zcGFuPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gJChodG1sKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLnJhbmdlLmluc2VydE5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5zYXZlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRleHQ6ICc8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogbWVkaXVtO1wiPicgKyB0cnVtYm93eWcubGFuZy5mb250c2l6ZXMuY3VzdG9tICsgJzwvc3Bhbj4nLFxuICAgICAgICAgICAgICAgIGhhc0ljb246IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB0cnVtYm93eWcuYWRkQnRuRGVmKGZyZWVTaXplQnV0dG9uTmFtZSwgZnJlZVNpemVCdG5EZWYpO1xuICAgICAgICBkcm9wZG93bi5wdXNoKGZyZWVTaXplQnV0dG9uTmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIGRyb3Bkb3duO1xuICAgIH1cbn0pKGpRdWVyeSk7XG4iLCIhZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt2YXIgYT1bXSxsPVtcIngtc21hbGxcIixcInNtYWxsXCIsXCJtZWRpdW1cIixcImxhcmdlXCIsXCJ4LWxhcmdlXCJdO2UuZWFjaChsLGZ1bmN0aW9uKGUsbCl7dC5hZGRCdG5EZWYoXCJmb250c2l6ZV9cIitsLHt0ZXh0Oic8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogJytsKyc7XCI+Jyt0LmxhbmcuZm9udHNpemVzW2xdK1wiPC9zcGFuPlwiLGhhc0ljb246ITEsZm46ZnVuY3Rpb24oKXt0LmV4ZWNDbWQoXCJmb250U2l6ZVwiLGUrMSwhMCl9fSksYS5wdXNoKFwiZm9udHNpemVfXCIrbCl9KTt2YXIgcz1cImZvbnRzaXplX2N1c3RvbVwiLG49e2ZuOmZ1bmN0aW9uKCl7dC5vcGVuTW9kYWxJbnNlcnQodC5sYW5nLmZvbnRDdXN0b21TaXplLnRpdGxlLHtzaXplOntsYWJlbDp0LmxhbmcuZm9udEN1c3RvbVNpemUubGFiZWwsdmFsdWU6dC5sYW5nLmZvbnRDdXN0b21TaXplLnZhbHVlfX0sZnVuY3Rpb24oYSl7dmFyIGw9dC5yYW5nZS5zdGFydENvbnRhaW5lci5wYXJlbnRFbGVtZW50LHM9dC5nZXRSYW5nZVRleHQoKTtpZihlKGwpLmh0bWwoKT09PXMpZShsKS5jc3MoXCJmb250LXNpemVcIixhLnNpemUpO2Vsc2V7dC5yYW5nZS5kZWxldGVDb250ZW50cygpO3ZhciBuPSc8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogJythLnNpemUrJztcIj4nK3MrXCI8L3NwYW4+XCIsbz1lKG4pWzBdO3QucmFuZ2UuaW5zZXJ0Tm9kZShvKX1yZXR1cm4gdC5zYXZlUmFuZ2UoKSwhMH0pfSx0ZXh0Oic8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogbWVkaXVtO1wiPicrdC5sYW5nLmZvbnRzaXplcy5jdXN0b20rXCI8L3NwYW4+XCIsaGFzSWNvbjohMX07cmV0dXJuIHQuYWRkQnRuRGVmKHMsbiksYS5wdXNoKHMpLGF9ZS5leHRlbmQoITAsZS50cnVtYm93eWcse2xhbmdzOntlbjp7Zm9udHNpemU6XCJGb250IHNpemVcIixmb250c2l6ZXM6e1wieC1zbWFsbFwiOlwiRXh0cmEgc21hbGxcIixzbWFsbDpcIlNtYWxsXCIsbWVkaXVtOlwiUmVndWxhclwiLGxhcmdlOlwiTGFyZ2VcIixcIngtbGFyZ2VcIjpcIkV4dHJhIGxhcmdlXCIsY3VzdG9tOlwiQ3VzdG9tXCJ9LGZvbnRDdXN0b21TaXplOnt0aXRsZTpcIkN1c3RvbSBGb250IFNpemVcIixsYWJlbDpcIkZvbnQgU2l6ZVwiLHZhbHVlOlwiNDhweFwifX0sZXM6e2ZvbnRzaXplOlwiVGFtYcOxbyBkZSBGdWVudGVcIixmb250c2l6ZXM6e1wieC1zbWFsbFwiOlwiRXh0cmEgcGVxdWXDsWFcIixzbWFsbDpcIlBlZ3Vlw7FhXCIsbWVkaXVtOlwiUmVndWxhclwiLGxhcmdlOlwiR3JhbmRlXCIsXCJ4LWxhcmdlXCI6XCJFeHRyYSBHcmFuZGVcIixjdXN0b206XCJDdXN0b21pemFkYVwifSxmb250Q3VzdG9tU2l6ZTp7dGl0bGU6XCJUYW1hw7FvIGRlIEZ1ZW50ZSBDdXN0b21pemFkYVwiLGxhYmVsOlwiVGFtYcOxbyBkZSBGdWVudGVcIix2YWx1ZTpcIjQ4cHhcIn19LGRhOntmb250c2l6ZTpcIlNrcmlmdHN0w7hycmVsc2VcIixmb250c2l6ZXM6e1wieC1zbWFsbFwiOlwiRWtzdHJhIGxpbGxlXCIsc21hbGw6XCJMaWxsZVwiLG1lZGl1bTpcIk5vcm1hbFwiLGxhcmdlOlwiU3RvclwiLFwieC1sYXJnZVwiOlwiRWtzdHJhIHN0b3JcIixjdXN0b206XCJCcnVnZXJkZWZpbmVyZXRcIn19LGZyOntmb250c2l6ZTpcIlRhaWxsZSBkZSBsYSBwb2xpY2VcIixmb250c2l6ZXM6e1wieC1zbWFsbFwiOlwiVHLDqHMgcGV0aXRcIixzbWFsbDpcIlBldGl0XCIsbWVkaXVtOlwiTm9ybWFsXCIsbGFyZ2U6XCJHcmFuZFwiLFwieC1sYXJnZVwiOlwiVHLDqHMgZ3JhbmRcIixjdXN0b206XCJEb3VhbmVcIn19LGRlOntmb250c2l6ZTpcIkZvbnQgc2l6ZVwiLGZvbnRzaXplczp7XCJ4LXNtYWxsXCI6XCJTZWhyIGtsZWluXCIsc21hbGw6XCJLbGVpblwiLG1lZGl1bTpcIk5vcm1hbFwiLGxhcmdlOlwiR3Jvw59cIixcIngtbGFyZ2VcIjpcIlNlaHIgZ3Jvw59cIixjdXN0b206XCJCZW51dHplcmRlZmluaWVydFwifSxmb250Q3VzdG9tU2l6ZTp7dGl0bGU6XCJCZW51dHplcmRlZmluaWVydGUgU2NocmlmdGdyw7bDn2VcIixsYWJlbDpcIlNjaHJpZnRncsO2w59lXCIsdmFsdWU6XCI0OHB4XCJ9fSxubDp7Zm9udHNpemU6XCJMZXR0ZXJncm9vdHRlXCIsZm9udHNpemVzOntcIngtc21hbGxcIjpcIkV4dHJhIGtsZWluXCIsc21hbGw6XCJLbGVpblwiLG1lZGl1bTpcIk5vcm1hYWxcIixsYXJnZTpcIkdyb290XCIsXCJ4LWxhcmdlXCI6XCJFeHRyYSBncm9vdFwiLGN1c3RvbTpcIlRpbHBhc3NldFwifX0sdHI6e2ZvbnRzaXplOlwiWWF6xLEgQm95dXR1XCIsZm9udHNpemVzOntcIngtc21hbGxcIjpcIsOHb2sgS8O8w6fDvGtcIixzbWFsbDpcIkvDvMOnw7xrXCIsbWVkaXVtOlwiTm9ybWFsXCIsbGFyZ2U6XCJCw7x5w7xrXCIsXCJ4LWxhcmdlXCI6XCLDh29rIELDvHnDvGtcIixjdXN0b206XCJHw7ZyZW5la1wifX0semhfdHc6e2ZvbnRzaXplOlwi5a2X6auU5aSn5bCPXCIsZm9udHNpemVzOntcIngtc21hbGxcIjpcIuacgOWwj1wiLHNtYWxsOlwi5bCPXCIsbWVkaXVtOlwi5LitXCIsbGFyZ2U6XCLlpKdcIixcIngtbGFyZ2VcIjpcIuacgOWkp1wiLGN1c3RvbTpcIuiHquioguWkp+Wwj1wifSxmb250Q3VzdG9tU2l6ZTp7dGl0bGU6XCLoh6roqILnvqnlrZfpq5TlpKflsI9cIixsYWJlbDpcIuWtl+mrlOWkp+Wwj1wiLHZhbHVlOlwiNDhweFwifX19fSksZS5leHRlbmQoITAsZS50cnVtYm93eWcse3BsdWdpbnM6e2ZvbnRzaXplOntpbml0OmZ1bmN0aW9uKGUpe2UuYWRkQnRuRGVmKFwiZm9udHNpemVcIix7ZHJvcGRvd246dChlKX0pfX19fSl9KGpRdWVyeSk7IiwiLyovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogdHJ1bWJvd3lnLmhpc3RvcnkuanMgdjEuMFxuICogaGlzdG9yeSBwbHVnaW4gZm9yIFRydW1ib3d5Z1xuICogaHR0cDovL2FsZXgtZC5naXRodWIuY29tL1RydW1ib3d5Z1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEF1dGhvciA6IFN2ZW4gRHVuZW1hbm4gW2R1bmVtYW5uQGZvcmVsYWJzLmV1XVxuICovXG5cbihmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAkLmV4dGVuZCh0cnVlLCAkLnRydW1ib3d5Zywge1xuICAgICAgICBsYW5nczoge1xuICAgICAgICAgICAgZGU6IHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZG86ICdXaWVkZXJob2xlbicsXG4gICAgICAgICAgICAgICAgICAgIHVuZG86ICdSw7xja2fDpG5naWcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuOiB7XG4gICAgICAgICAgICAgICAgaGlzdG9yeToge1xuICAgICAgICAgICAgICAgICAgICByZWRvOiAnUmVkbycsXG4gICAgICAgICAgICAgICAgICAgIHVuZG86ICdVbmRvJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYToge1xuICAgICAgICAgICAgICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVkbzogJ0FubnVsbGVyIGZvcnRyeWQnLFxuICAgICAgICAgICAgICAgICAgICB1bmRvOiAnRm9ydHJ5ZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnI6IHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZG86ICdBbm51bGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdW5kbzogJ1LDqXRhYmxpcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgemhfdHc6IHtcbiAgICAgICAgICAgICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgICAgICAgICAgICByZWRvOiAn6YeN5YGaJyxcbiAgICAgICAgICAgICAgICAgICB1bmRvOiAn5b6p5Y6fJ1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICBoaXN0b3J5OiB7XG4gICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5vLnBsdWdpbnMuaGlzdG9yeSA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGFjazogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZvY3VzRWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9LCB0Lm8ucGx1Z2lucy5oaXN0b3J5IHx8IHt9KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYnRuQnVpbGREZWZSZWRvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHQubGFuZy5oaXN0b3J5LnJlZG8sXG4gICAgICAgICAgICAgICAgICAgICAgICBpY286ICdyZWRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ1knLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXggPCB0Lm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFjay5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuby5wbHVnaW5zLmhpc3RvcnkuX2luZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHQuby5wbHVnaW5zLmhpc3RvcnkuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB0Lm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFja1tpbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5leGVjQ21kKCdodG1sJywgbmV3U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIG9mIHNvbWUgc2VtYW50aWMgb3B0aW1pc2F0aW9ucyB3ZSBoYXZlIHRvIHNhdmUgdGhlIHN0YXRlIGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFja1tpbmRleF0gPSB0LiRlZC5odG1sKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmV0VG9FbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uU3RhdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBidG5CdWlsZERlZlVuZG8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdC5sYW5nLmhpc3RvcnkudW5kbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljbzogJ3VuZG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnWicsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Lm8ucGx1Z2lucy5oaXN0b3J5Ll9pbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXggLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdC5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHQuby5wbHVnaW5zLmhpc3RvcnkuX3N0YWNrW2luZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmV4ZWNDbWQoJ2h0bWwnLCBuZXdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugb2Ygc29tZSBzZW1hbnRpYyBvcHRpbWlzYXRpb25zIHdlIGhhdmUgdG8gc2F2ZSB0aGUgc3RhdGUgYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBoaXN0b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuby5wbHVnaW5zLmhpc3RvcnkuX3N0YWNrW2luZGV4XSA9IHQuJGVkLmh0bWwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJyZXRUb0VuZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b25TdGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHB1c2hUb0hpc3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0Lm8ucGx1Z2lucy5oaXN0b3J5Ll9pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjayA9IHQuby5wbHVnaW5zLmhpc3RvcnkuX3N0YWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdFN0YXRlID0gc3RhY2suc2xpY2UoLTEpWzBdIHx8ICc8cD48L3A+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2U3RhdGUgPSBzdGFja1tpbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB0LiRlZC5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNFbCA9IHQuZG9jLmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0VsVGV4dCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdFN0YXRlVGFnc0xpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGVUYWdzTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2Rm9jdXNFbCA9IHQuby5wbHVnaW5zLmhpc3RvcnkuX2ZvY3VzRWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdFN0YXRlVGFnc0xpc3QgPSAkKCc8ZGl2PicgKyBsYXRlc3RTdGF0ZSArICc8L2Rpdj4nKS5maW5kKCcqJykubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlVGFnc0xpc3QgPSAkKCc8ZGl2PicgKyBuZXdTdGF0ZSArICc8L2Rpdj4nKS5maW5kKCcqJykubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c0VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5vLnBsdWdpbnMuaGlzdG9yeS5fZm9jdXNFbCA9IGZvY3VzRWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNFbFRleHQgPSBmb2N1c0VsLm91dGVySFRNTCB8fCBmb2N1c0VsLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3U3RhdGUgIT09IHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgbmV3IHN0YWNrIGVudHJ5IGlzIGRlZmluZWQgd2hlbiBjdXJyZW50IGluc2VydCBlbmRzIG9uIGEgd2hpdGVzcGFjZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvciBjb3VudCBvZiBub2RlIGVsZW1lbnRzIGhhcyBiZWVuIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvciBmb2N1c2VkIGVsZW1lbnQgZGlmZmVycyBmcm9tIHByZXZpb3VzIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c0VsVGV4dC5zbGljZSgtMSkubWF0Y2goL1xccy8pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFhcnJheXNBcmVJZGVudGljYWwobGF0ZXN0U3RhdGVUYWdzTGlzdCwgbmV3U3RhdGVUYWdzTGlzdCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXggPD0gMCB8fCBmb2N1c0VsICE9PSBwcmV2Rm9jdXNFbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuby5wbHVnaW5zLmhpc3RvcnkuX2luZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBuZXdlciBlbnRyaWVzIGluIGhpc3Rvcnkgd2hlbiBzb21ldGhpbmcgbmV3IHdhcyBhZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRpbWVsaW5lIHdhcyBjaGFuZ2VzIHdpdGggaW50ZXJhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5vLnBsdWdpbnMuaGlzdG9yeS5fc3RhY2sgPSBzdGFjay5zbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIHQuby5wbHVnaW5zLmhpc3RvcnkuX2luZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdyBhZGQgbmV3IHN0YXRlIHRvIG1vZGlmZWQgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFjay5wdXNoKG5ld1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtb2RpZnkgbGFzdCBzdGFjayBlbnRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFja1tpbmRleF0gPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b25TdGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9nZ2xlQnV0dG9uU3RhdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdC5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tTaXplID0gdC5vLnBsdWdpbnMuaGlzdG9yeS5fc3RhY2subGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZG9TdGF0ZSA9IChpbmRleCA+IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZG9TdGF0ZSA9IChzdGFja1NpemUgIT09IDAgJiYgaW5kZXggIT09IHN0YWNrU2l6ZSAtIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b25TdGF0ZSgnaGlzdG9yeVVuZG8nLCB1bmRvU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoJ2hpc3RvcnlSZWRvJywgcmVkb1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9nZ2xlQnV0dG9uU3RhdGUgPSBmdW5jdGlvbiAoYnRuLCBlbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSB0LiRib3guZmluZCgnLnRydW1ib3d5Zy0nICsgYnRuICsgJy1idXR0b24nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygndHJ1bWJvd3lnLWRpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWJ1dHRvbi5oYXNDbGFzcygndHJ1bWJvd3lnLWRpc2FibGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygndHJ1bWJvd3lnLWRpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXlzQXJlSWRlbnRpY2FsID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FycmV0VG9FbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHQuZG9jLmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHQuZG9jLmNyZWF0ZVJhbmdlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QWZ0ZXIobm9kZS5jaGlsZE5vZGVzW25vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIobm9kZS5jaGlsZE5vZGVzW25vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5kb2MuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5kb2MuZ2V0U2VsZWN0aW9uKCkuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHQuJGMub24oJ3Rid2luaXQgdGJ3Y2hhbmdlJywgcHVzaFRvSGlzdG9yeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdC5hZGRCdG5EZWYoJ2hpc3RvcnlSZWRvJywgYnRuQnVpbGREZWZSZWRvKTtcbiAgICAgICAgICAgICAgICAgICAgdC5hZGRCdG5EZWYoJ2hpc3RvcnlVbmRvJywgYnRuQnVpbGREZWZVbmRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKGpRdWVyeSk7IiwiIWZ1bmN0aW9uKG8pe1widXNlIHN0cmljdFwiO28uZXh0ZW5kKCEwLG8udHJ1bWJvd3lnLHtsYW5nczp7ZGU6e2hpc3Rvcnk6e3JlZG86XCJXaWVkZXJob2xlblwiLHVuZG86XCJSw7xja2fDpG5naWdcIn19LGVuOntoaXN0b3J5OntyZWRvOlwiUmVkb1wiLHVuZG86XCJVbmRvXCJ9fSxkYTp7aGlzdG9yeTp7cmVkbzpcIkFubnVsbGVyIGZvcnRyeWRcIix1bmRvOlwiRm9ydHJ5ZFwifX0sZnI6e2hpc3Rvcnk6e3JlZG86XCJBbm51bGVyXCIsdW5kbzpcIlLDqXRhYmxpclwifX0semhfdHc6e2hpc3Rvcnk6e3JlZG86XCLph43lgZpcIix1bmRvOlwi5b6p5Y6fXCJ9fX0scGx1Z2luczp7aGlzdG9yeTp7aW5pdDpmdW5jdGlvbihpKXtpLm8ucGx1Z2lucy5oaXN0b3J5PW8uZXh0ZW5kKCEwLHtfc3RhY2s6W10sX2luZGV4Oi0xLF9mb2N1c0VsOnZvaWQgMH0saS5vLnBsdWdpbnMuaGlzdG9yeXx8e30pO3ZhciB0PXt0aXRsZTppLmxhbmcuaGlzdG9yeS5yZWRvLGljbzpcInJlZG9cIixrZXk6XCJZXCIsZm46ZnVuY3Rpb24oKXtpZihpLm8ucGx1Z2lucy5oaXN0b3J5Ll9pbmRleDxpLm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFjay5sZW5ndGgtMSl7aS5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXgrPTE7dmFyIG89aS5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXgsdD1pLm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFja1tvXTtpLmV4ZWNDbWQoXCJodG1sXCIsdCksaS5vLnBsdWdpbnMuaGlzdG9yeS5fc3RhY2tbb109aS4kZWQuaHRtbCgpLGwoKSxzKCl9fX0sbj17dGl0bGU6aS5sYW5nLmhpc3RvcnkudW5kbyxpY286XCJ1bmRvXCIsa2V5OlwiWlwiLGZuOmZ1bmN0aW9uKCl7aWYoaS5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXg+MCl7aS5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXgtPTE7dmFyIG89aS5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXgsdD1pLm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFja1tvXTtpLmV4ZWNDbWQoXCJodG1sXCIsdCksaS5vLnBsdWdpbnMuaGlzdG9yeS5fc3RhY2tbb109aS4kZWQuaHRtbCgpLGwoKSxzKCl9fX0sZT1mdW5jdGlvbigpe3ZhciB0LG4sZT1pLm8ucGx1Z2lucy5oaXN0b3J5Ll9pbmRleCxyPWkuby5wbHVnaW5zLmhpc3RvcnkuX3N0YWNrLGw9ci5zbGljZSgtMSlbMF18fFwiPHA+PC9wPlwiLHU9cltlXSxoPWkuJGVkLmh0bWwoKSxjPWkuZG9jLmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZSxnPVwiXCIsYT1pLm8ucGx1Z2lucy5oaXN0b3J5Ll9mb2N1c0VsO3Q9byhcIjxkaXY+XCIrbCtcIjwvZGl2PlwiKS5maW5kKFwiKlwiKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbE5hbWV9KSxuPW8oXCI8ZGl2PlwiK2grXCI8L2Rpdj5cIikuZmluZChcIipcIikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxOYW1lfSksYyYmKGkuby5wbHVnaW5zLmhpc3RvcnkuX2ZvY3VzRWw9YyxnPWMub3V0ZXJIVE1MfHxjLnRleHRDb250ZW50KSxoIT09dSYmKGcuc2xpY2UoLTEpLm1hdGNoKC9cXHMvKXx8IWQodCxuKXx8aS5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXg8PTB8fGMhPT1hPyhpLm8ucGx1Z2lucy5oaXN0b3J5Ll9pbmRleCs9MSxpLm8ucGx1Z2lucy5oaXN0b3J5Ll9zdGFjaz1yLnNsaWNlKDAsaS5vLnBsdWdpbnMuaGlzdG9yeS5faW5kZXgpLGkuby5wbHVnaW5zLmhpc3RvcnkuX3N0YWNrLnB1c2goaCkpOmkuby5wbHVnaW5zLmhpc3RvcnkuX3N0YWNrW2VdPWgscygpKX0scz1mdW5jdGlvbigpe3ZhciBvPWkuby5wbHVnaW5zLmhpc3RvcnkuX2luZGV4LHQ9aS5vLnBsdWdpbnMuaGlzdG9yeS5fc3RhY2subGVuZ3RoLG49bz4wLGU9MCE9PXQmJm8hPT10LTE7cihcImhpc3RvcnlVbmRvXCIsbikscihcImhpc3RvcnlSZWRvXCIsZSl9LHI9ZnVuY3Rpb24obyx0KXt2YXIgbj1pLiRib3guZmluZChcIi50cnVtYm93eWctXCIrbytcIi1idXR0b25cIik7dD9uLnJlbW92ZUNsYXNzKFwidHJ1bWJvd3lnLWRpc2FibGVcIik6bi5oYXNDbGFzcyhcInRydW1ib3d5Zy1kaXNhYmxlXCIpfHxuLmFkZENsYXNzKFwidHJ1bWJvd3lnLWRpc2FibGVcIil9LGQ9ZnVuY3Rpb24obyxpKXtpZihvPT09aSlyZXR1cm4hMDtpZihudWxsPT1vfHxudWxsPT1pKXJldHVybiExO2lmKG8ubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0PTA7dDxvLmxlbmd0aDt0Kz0xKWlmKG9bdF0hPT1pW3RdKXJldHVybiExO3JldHVybiEwfSxsPWZ1bmN0aW9uKCl7dmFyIG89aS5kb2MuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlLHQ9aS5kb2MuY3JlYXRlUmFuZ2UoKTtvLmNoaWxkTm9kZXMubGVuZ3RoPjAmJih0LnNldFN0YXJ0QWZ0ZXIoby5jaGlsZE5vZGVzW28uY2hpbGROb2Rlcy5sZW5ndGgtMV0pLHQuc2V0RW5kQWZ0ZXIoby5jaGlsZE5vZGVzW28uY2hpbGROb2Rlcy5sZW5ndGgtMV0pLGkuZG9jLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpLGkuZG9jLmdldFNlbGVjdGlvbigpLmFkZFJhbmdlKHQpKX07aS4kYy5vbihcInRid2luaXQgdGJ3Y2hhbmdlXCIsZSksaS5hZGRCdG5EZWYoXCJoaXN0b3J5UmVkb1wiLHQpLGkuYWRkQnRuRGVmKFwiaGlzdG9yeVVuZG9cIixuKX19fX0pfShqUXVlcnkpOyIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiB0cnVtYm93eWcubm9lbWJlZC5qcyB2MS4wXG4gKiBub0VtYmVkIHBsdWdpbiBmb3IgVHJ1bWJvd3lnXG4gKiBodHRwOi8vYWxleC1kLmdpdGh1Yi5jb20vVHJ1bWJvd3lnXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQXV0aG9yIDogSmFrZSBKb2hucyAoamFrZWpvaG5zKVxuICovXG5cbihmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgcHJveHk6ICdodHRwczovL25vZW1iZWQuY29tL2VtYmVkP25vd3JhcD1vbicsXG4gICAgICAgIHVybEZpbGVkOiAndXJsJyxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHN1Y2Nlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgZXJyb3I6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICAkLmV4dGVuZCh0cnVlLCAkLnRydW1ib3d5Zywge1xuICAgICAgICBsYW5nczoge1xuICAgICAgICAgICAgZW46IHtcbiAgICAgICAgICAgICAgICBub2VtYmVkOiAnTm9lbWJlZCcsXG4gICAgICAgICAgICAgICAgbm9lbWJlZEVycm9yOiAnRXJyb3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGE6IHtcbiAgICAgICAgICAgICAgICBub2VtYmVkRXJyb3I6ICdGZWpsJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNrOiB7XG4gICAgICAgICAgICAgICAgbm9lbWJlZEVycm9yOiAnQ2h5YmEnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnI6IHtcbiAgICAgICAgICAgICAgICBub2VtYmVkRXJyb3I6ICdFcnJldXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3M6IHtcbiAgICAgICAgICAgICAgICBub2VtYmVkRXJyb3I6ICdDaHliYSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydToge1xuICAgICAgICAgICAgICAgIG5vZW1iZWRFcnJvcjogJ9Ce0YjQuNCx0LrQsCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqYToge1xuICAgICAgICAgICAgICAgIG5vZW1iZWRFcnJvcjogJ+OCqOODqeODvCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cjoge1xuICAgICAgICAgICAgICAgIG5vZW1iZWRFcnJvcjogJ0hhdGEnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgemhfdHc6IHtcbiAgICAgICAgICAgICAgICBub2VtYmVkOiAn5o+S5YWl5b2x54mHJyxcbiAgICAgICAgICAgICAgICBub2VtYmVkRXJyb3I6ICfpjK/oqqQnXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICAgIG5vZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAodHJ1bWJvd3lnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5vLnBsdWdpbnMubm9lbWJlZCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0T3B0aW9ucywgdHJ1bWJvd3lnLm8ucGx1Z2lucy5ub2VtYmVkIHx8IHt9KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYnRuRGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJG1vZGFsID0gdHJ1bWJvd3lnLm9wZW5Nb2RhbEluc2VydChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLmxhbmcubm9lbWJlZCxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdVUkwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB0cnVtYm93eWcuby5wbHVnaW5zLm5vZW1iZWQucHJveHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydW1ib3d5Zy5vLnBsdWdpbnMubm9lbWJlZC5zdWNjZXNzIHx8IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5leGVjQ21kKCdpbnNlcnRIVE1MJywgZGF0YS5odG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLmFkZEVycm9yT25Nb2RhbEZpZWxkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W3R5cGU9dGV4dF0nLCAkbW9kYWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB0cnVtYm93eWcuby5wbHVnaW5zLm5vZW1iZWQuZXJyb3IgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuYWRkRXJyb3JPbk1vZGFsRmllbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFt0eXBlPXRleHRdJywgJG1vZGFsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5sYW5nLm5vZW1iZWRFcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuYWRkQnRuRGVmKCdub2VtYmVkJywgYnRuRGVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKGpRdWVyeSk7IiwiIWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciByPXtwcm94eTpcImh0dHBzOi8vbm9lbWJlZC5jb20vZW1iZWQ/bm93cmFwPW9uXCIsdXJsRmlsZWQ6XCJ1cmxcIixkYXRhOltdLHN1Y2Nlc3M6dm9pZCAwLGVycm9yOnZvaWQgMH07ZS5leHRlbmQoITAsZS50cnVtYm93eWcse2xhbmdzOntlbjp7bm9lbWJlZDpcIk5vZW1iZWRcIixub2VtYmVkRXJyb3I6XCJFcnJvclwifSxkYTp7bm9lbWJlZEVycm9yOlwiRmVqbFwifSxzazp7bm9lbWJlZEVycm9yOlwiQ2h5YmFcIn0sZnI6e25vZW1iZWRFcnJvcjpcIkVycmV1clwifSxjczp7bm9lbWJlZEVycm9yOlwiQ2h5YmFcIn0scnU6e25vZW1iZWRFcnJvcjpcItCe0YjQuNCx0LrQsFwifSxqYTp7bm9lbWJlZEVycm9yOlwi44Ko44Op44O8XCJ9LHRyOntub2VtYmVkRXJyb3I6XCJIYXRhXCJ9LHpoX3R3Ontub2VtYmVkOlwi5o+S5YWl5b2x54mHXCIsbm9lbWJlZEVycm9yOlwi6Yyv6KqkXCJ9fSxwbHVnaW5zOntub2VtYmVkOntpbml0OmZ1bmN0aW9uKG8pe28uby5wbHVnaW5zLm5vZW1iZWQ9ZS5leHRlbmQoITAse30scixvLm8ucGx1Z2lucy5ub2VtYmVkfHx7fSk7dmFyIG49e2ZuOmZ1bmN0aW9uKCl7dmFyIHI9by5vcGVuTW9kYWxJbnNlcnQoby5sYW5nLm5vZW1iZWQse3VybDp7bGFiZWw6XCJVUkxcIixyZXF1aXJlZDohMH19LGZ1bmN0aW9uKG4pe2UuYWpheCh7dXJsOm8uby5wbHVnaW5zLm5vZW1iZWQucHJveHksdHlwZTpcIkdFVFwiLGRhdGE6bixjYWNoZTohMSxkYXRhVHlwZTpcImpzb25cIixzdWNjZXNzOm8uby5wbHVnaW5zLm5vZW1iZWQuc3VjY2Vzc3x8ZnVuY3Rpb24obil7bi5odG1sPyhvLmV4ZWNDbWQoXCJpbnNlcnRIVE1MXCIsbi5odG1sKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5jbG9zZU1vZGFsKCl9LDI1MCkpOm8uYWRkRXJyb3JPbk1vZGFsRmllbGQoZShcImlucHV0W3R5cGU9dGV4dF1cIixyKSxuLmVycm9yKX0sZXJyb3I6by5vLnBsdWdpbnMubm9lbWJlZC5lcnJvcnx8ZnVuY3Rpb24oKXtvLmFkZEVycm9yT25Nb2RhbEZpZWxkKGUoXCJpbnB1dFt0eXBlPXRleHRdXCIsciksby5sYW5nLm5vZW1iZWRFcnJvcil9fSl9KX19O28uYWRkQnRuRGVmKFwibm9lbWJlZFwiLG4pfX19fSl9KGpRdWVyeSk7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIHRydW1ib3d5Zy5wYXN0ZWVtYmVkLmpzIHYxLjBcbiAqIFVybCBwYXN0ZSB0byBpZnJhbWUgd2l0aCBub2VtYmVkLiBQbHVnaW4gZm9yIFRydW1ib3d5Z1xuICogaHR0cDovL2FsZXgtZC5naXRodWIuY29tL1RydW1ib3d5Z1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEF1dGhvciA6IE1heCBTZWVsaWdcbiAqICAgICAgICAgIEZhY2Vib29rIDogaHR0cHM6Ly9mYWNlYm9vay5jb20vbWF4c2VcbiAqICAgICAgICAgIFdlYnNpdGUgOiBodHRwczovL3d3dy5tYXhtYWRlLm5sL1xuICovXG5cbihmdW5jdGlvbigkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBlbmRwb2ludHM6IFtcbiAgICAgICAgICAgICdodHRwczovL25vZW1iZWQuY29tL2VtYmVkP25vd3JhcD1vbicsXG4gICAgICAgICAgICAnaHR0cHM6Ly9hcGkubWF4bWFkZS5ubC91cmwyaWZyYW1lL2VtYmVkJ1xuICAgICAgICBdXG4gICAgfTtcblxuICAgICQuZXh0ZW5kKHRydWUsICQudHJ1bWJvd3lnLCB7XG4gICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICAgIHBhc3RlRW1iZWQ6IHtcbiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbih0cnVtYm93eWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLm8ucGx1Z2lucy5wYXN0ZUVtYmVkID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRPcHRpb25zLCB0cnVtYm93eWcuby5wbHVnaW5zLnBhc3RlRW1iZWQgfHwge30pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1bWJvd3lnLm8ucGx1Z2lucy5wYXN0ZUVtYmVkLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5wYXN0ZUhhbmRsZXJzLnB1c2goZnVuY3Rpb24ocGFzdGVFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcGJvYXJkRGF0YSA9IChwYXN0ZUV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgcGFzdGVFdmVudCkuY2xpcGJvYXJkRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGVkRGF0YSA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludHMgPSB0cnVtYm93eWcuby5wbHVnaW5zLnBhc3RlRW1iZWQuZW5kcG9pbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXN0ZWREYXRhLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXN0ZWREYXRhLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0ICYmIHJlcXVlc3QudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnRyYW5zcG9ydC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZW5kcG9pbnRzW2luZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcXVlcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuaHRtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSByZXMuaHRtbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID09PSAwICYmIGluZGV4IDwgZW5kcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cmwgPSBlbmRwb2ludHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBxdWVyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGVuZHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAkKCc8YT4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBwYXN0ZWREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcGFzdGVkRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5wcm9wKCdvdXRlckhUTUwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5leGVjQ21kKCdpbnNlcnRIVE1MJywgY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChjKSB7fVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKGpRdWVyeSk7XG4iLCIhZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9e2VuYWJsZWQ6ITAsZW5kcG9pbnRzOltcImh0dHBzOi8vbm9lbWJlZC5jb20vZW1iZWQ/bm93cmFwPW9uXCIsXCJodHRwczovL2FwaS5tYXhtYWRlLm5sL3VybDJpZnJhbWUvZW1iZWRcIl19O3QuZXh0ZW5kKCEwLHQudHJ1bWJvd3lnLHtwbHVnaW5zOntwYXN0ZUVtYmVkOntpbml0OmZ1bmN0aW9uKG4pe24uby5wbHVnaW5zLnBhc3RlRW1iZWQ9dC5leHRlbmQoITAse30sZSxuLm8ucGx1Z2lucy5wYXN0ZUVtYmVkfHx7fSksbi5vLnBsdWdpbnMucGFzdGVFbWJlZC5lbmFibGVkJiZuLnBhc3RlSGFuZGxlcnMucHVzaChmdW5jdGlvbihlKXt0cnl7dmFyIGE9KGUub3JpZ2luYWxFdmVudHx8ZSkuY2xpcGJvYXJkRGF0YSxyPWEuZ2V0RGF0YShcIlRleHRcIikscz1uLm8ucGx1Z2lucy5wYXN0ZUVtYmVkLmVuZHBvaW50cyxpPW51bGw7aWYoci5zdGFydHNXaXRoKFwiaHR0cFwiKSl7ZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCk7dmFyIG89e3VybDpyLnRyaW0oKX0scD1cIlwiLGw9MDtpJiZpLnRyYW5zcG9ydCYmaS50cmFuc3BvcnQuYWJvcnQoKSxpPXQuYWpheCh7Y3Jvc3NPcmlnaW46ITAsdXJsOnNbbF0sdHlwZTpcIkdFVFwiLGRhdGE6byxjYWNoZTohMSxkYXRhVHlwZTpcImpzb25wXCIsc3VjY2VzczpmdW5jdGlvbih0KXt0Lmh0bWw/KGw9MCxwPXQuaHRtbCk6bCs9MX0sZXJyb3I6ZnVuY3Rpb24oKXtsKz0xfSxjb21wbGV0ZTpmdW5jdGlvbigpezA9PT1wLmxlbmd0aCYmbDxzLmxlbmd0aC0xJiYodGhpcy51cmw9c1tsXSx0aGlzLmRhdGE9byx0LmFqYXgodGhpcykpLGw9PT1zLmxlbmd0aC0xJiYocD10KFwiPGE+XCIse2hyZWY6cix0ZXh0OnJ9KS5wcm9wKFwib3V0ZXJIVE1MXCIpKSxwLmxlbmd0aD4wJiYobD0wLG4uZXhlY0NtZChcImluc2VydEhUTUxcIixwKSl9fSl9fWNhdGNoKHUpe319KX19fX0pfShqUXVlcnkpOyIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiB0cnVtYm93eWcucHJlZm9ybWF0dGVkLmpzIHYxLjBcbiAqIFByZWZvcm1hdHRlZCBwbHVnaW4gZm9yIFRydW1ib3d5Z1xuICogaHR0cDovL2FsZXgtZC5naXRodWIuY29tL1RydW1ib3d5Z1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEF1dGhvciA6IENhc2VsbGEgRWRvYXJkbyAoQ2l2aWxlKVxuICovXG5cblxuKGZ1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgJC50cnVtYm93eWcsIHtcbiAgICAgICAgbGFuZ3M6IHtcbiAgICAgICAgICAgIC8vIGpzaGludCBjYW1lbGNhc2U6ZmFsc2VcbiAgICAgICAgICAgIGVuOiB7XG4gICAgICAgICAgICAgICAgcHJlZm9ybWF0dGVkOiAnQ29kZSBzYW1wbGUgPHByZT4nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGE6IHtcbiAgICAgICAgICAgICAgICBwcmVmb3JtYXR0ZWQ6ICdQcsOmZm9ybWF0ZXJldCA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcjoge1xuICAgICAgICAgICAgICAgIHByZWZvcm1hdHRlZDogJ0V4ZW1wbGUgZGUgY29kZSA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdDoge1xuICAgICAgICAgICAgICAgIHByZWZvcm1hdHRlZDogJ0NvZGljZSA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6aF9jbjoge1xuICAgICAgICAgICAgICAgIHByZWZvcm1hdHRlZDogJ+S7o+eggeekuuS+iyA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydToge1xuICAgICAgICAgICAgICAgIHByZWZvcm1hdHRlZDogJ9Cf0YDQuNC80LXRgCDQutC+0LTQsCA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqYToge1xuICAgICAgICAgICAgICAgIHByZWZvcm1hdHRlZDogJ+OCs+ODvOODieOCteODs+ODl+ODqyA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cjoge1xuICAgICAgICAgICAgICAgIHByZWZvcm1hdHRlZDogJ0tvZCDDtnJuZcSfaSA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6aF90dzoge1xuICAgICAgICAgICAgICAgIHByZWZvcm1hdHRlZDogJ+S7o+eivOevhOS+iyA8cHJlPidcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8vIGpzaGludCBjYW1lbGNhc2U6dHJ1ZVxuXG4gICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICAgIHByZWZvcm1hdHRlZDoge1xuICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICh0cnVtYm93eWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ0bkRlZiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLnNhdmVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gdHJ1bWJvd3lnLmdldFJhbmdlVGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LnJlcGxhY2UoL1xccy9nLCAnJykgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VydGFnID0gZ2V0U2VsZWN0aW9uUGFyZW50RWxlbWVudCgpLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJ0YWcgPT09ICdjb2RlJyB8fCBjdXJ0YWcgPT09ICdwcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVud3JhcENvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5leGVjQ21kKCdpbnNlcnRIVE1MJywgJzxwcmU+PGNvZGU+JyArIHN0cmlwKHRleHQpICsgJzwvY29kZT48L3ByZT4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ3ByZSdcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuYWRkQnRuRGVmKCdwcmVmb3JtYXR0ZWQnLCBidG5EZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLypcbiAgICAgKiBHZXRTZWxlY3Rpb25QYXJlbnRFbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uUGFyZW50RWxlbWVudCgpIHtcbiAgICAgICAgdmFyIHBhcmVudEVsID0gbnVsbCxcbiAgICAgICAgICAgIHNlbGVjdGlvbjtcblxuICAgICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgICAgICAgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50RWwgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50RWwubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RWwgPSBwYXJlbnRFbC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgoc2VsZWN0aW9uID0gZG9jdW1lbnQuc2VsZWN0aW9uKSAmJiBzZWxlY3Rpb24udHlwZSAhPT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgICAgICBwYXJlbnRFbCA9IHNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJlbnRFbDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFN0cmlwXG4gICAgICogcmV0dXJucyBhIHRleHQgd2l0aG91dCBIVE1MIHRhZ3NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHJpcChodG1sKSB7XG4gICAgICAgIHZhciB0bXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgICAgdG1wLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHJldHVybiB0bXAudGV4dENvbnRlbnQgfHwgdG1wLmlubmVyVGV4dCB8fCAnJztcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFVud3JhcENvZGVcbiAgICAgKiBBREQvRklYOiB0byBpbXByb3ZlLCB3b3JrcyBidXQgY2FuIGJlIGJldHRlclxuICAgICAqIFwicGFyYW5vaWNcIiBzb2x1dGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVud3JhcENvZGUoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBudWxsO1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHsgLy9mb3IgSUVcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3QgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0LnJhbmdlQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gc2VsZWN0LmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXIucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vJ3BhcmFub2ljJyB1bndyYXBcbiAgICAgICAgdmFyIGlzcHJlID0gJChjb250YWluZXIpLmNvbnRlbnRzKCkuY2xvc2VzdCgncHJlJykubGVuZ3RoO1xuICAgICAgICB2YXIgaXNjb2RlID0gJChjb250YWluZXIpLmNvbnRlbnRzKCkuY2xvc2VzdCgnY29kZScpLmxlbmd0aDtcblxuICAgICAgICBpZiAoaXNwcmUgJiYgaXNjb2RlKSB7XG4gICAgICAgICAgICAkKGNvbnRhaW5lcikuY29udGVudHMoKS51bndyYXAoJ2NvZGUnKS51bndyYXAoJ3ByZScpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzcHJlKSB7XG4gICAgICAgICAgICAkKGNvbnRhaW5lcikuY29udGVudHMoKS51bndyYXAoJ3ByZScpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzY29kZSkge1xuICAgICAgICAgICAgJChjb250YWluZXIpLmNvbnRlbnRzKCkudW53cmFwKCdjb2RlJyk7XG4gICAgICAgIH1cbiAgICB9XG59KShqUXVlcnkpO1xuIiwiIWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt2YXIgZSx0PW51bGw7cmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24/KGU9d2luZG93LmdldFNlbGVjdGlvbigpLGUucmFuZ2VDb3VudCYmKHQ9ZS5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLDEhPT10Lm5vZGVUeXBlJiYodD10LnBhcmVudE5vZGUpKSk6KGU9ZG9jdW1lbnQuc2VsZWN0aW9uKSYmXCJDb250cm9sXCIhPT1lLnR5cGUmJih0PWUuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpLHR9ZnVuY3Rpb24gbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3JldHVybiB0LmlubmVySFRNTD1lLHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxcIlwifWZ1bmN0aW9uIHIoKXt2YXIgdD1udWxsO2lmKGRvY3VtZW50LnNlbGVjdGlvbil0PWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKTtlbHNle3ZhciBuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtuLnJhbmdlQ291bnQ+MCYmKHQ9bi5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUpfXZhciByPWUodCkuY29udGVudHMoKS5jbG9zZXN0KFwicHJlXCIpLmxlbmd0aCxvPWUodCkuY29udGVudHMoKS5jbG9zZXN0KFwiY29kZVwiKS5sZW5ndGg7ciYmbz9lKHQpLmNvbnRlbnRzKCkudW53cmFwKFwiY29kZVwiKS51bndyYXAoXCJwcmVcIik6cj9lKHQpLmNvbnRlbnRzKCkudW53cmFwKFwicHJlXCIpOm8mJmUodCkuY29udGVudHMoKS51bndyYXAoXCJjb2RlXCIpfWUuZXh0ZW5kKCEwLGUudHJ1bWJvd3lnLHtsYW5nczp7ZW46e3ByZWZvcm1hdHRlZDpcIkNvZGUgc2FtcGxlIDxwcmU+XCJ9LGRhOntwcmVmb3JtYXR0ZWQ6XCJQcsOmZm9ybWF0ZXJldCA8cHJlPlwifSxmcjp7cHJlZm9ybWF0dGVkOlwiRXhlbXBsZSBkZSBjb2RlIDxwcmU+XCJ9LGl0OntwcmVmb3JtYXR0ZWQ6XCJDb2RpY2UgPHByZT5cIn0semhfY246e3ByZWZvcm1hdHRlZDpcIuS7o+eggeekuuS+iyA8cHJlPlwifSxydTp7cHJlZm9ybWF0dGVkOlwi0J/RgNC40LzQtdGAINC60L7QtNCwIDxwcmU+XCJ9LGphOntwcmVmb3JtYXR0ZWQ6XCLjgrPjg7zjg4njgrXjg7Pjg5fjg6sgPHByZT5cIn0sdHI6e3ByZWZvcm1hdHRlZDpcIktvZCDDtnJuZcSfaSA8cHJlPlwifSx6aF90dzp7cHJlZm9ybWF0dGVkOlwi5Luj56K856+E5L6LIDxwcmU+XCJ9fSxwbHVnaW5zOntwcmVmb3JtYXR0ZWQ6e2luaXQ6ZnVuY3Rpb24oZSl7dmFyIG89e2ZuOmZ1bmN0aW9uKCl7ZS5zYXZlUmFuZ2UoKTt2YXIgbz1lLmdldFJhbmdlVGV4dCgpO2lmKFwiXCIhPT1vLnJlcGxhY2UoL1xccy9nLFwiXCIpKXRyeXt2YXIgYT10KCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwiY29kZVwiPT09YXx8XCJwcmVcIj09PWEpcmV0dXJuIHIoKTtlLmV4ZWNDbWQoXCJpbnNlcnRIVE1MXCIsXCI8cHJlPjxjb2RlPlwiK24obykrXCI8L2NvZGU+PC9wcmU+XCIpfWNhdGNoKGMpe319LHRhZzpcInByZVwifTtlLmFkZEJ0bkRlZihcInByZWZvcm1hdHRlZFwiLG8pfX19fSl9KGpRdWVyeSk7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIHRydW1ib3d5Zy5zcGVjaWFsY2hhcnMuanMgdjAuOTlcbiAqIFVuaWNvZGUgY2hhcmFjdGVycyBwaWNrZXIgcGx1Z2luIGZvciBUcnVtYm93eWdcbiAqIGh0dHA6Ly9hbGV4LWQuZ2l0aHViLmNvbS9UcnVtYm93eWdcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBBdXRob3IgOiBSZW5hdWQgSG95b3V4IChnZWVrdG9ydG9pc2UpXG4qL1xuXG4oZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHN5bWJvbExpc3Q6IFtcbiAgICAgICAgICAgIC8vIGN1cnJlbmNpZXNcbiAgICAgICAgICAgICcwMDI0JywnMjBBQycsJzAwQTMnLCcwMEEyJywnMDBBNScsJzAwQTQnLCcyMDMwJywgbnVsbCxcbiAgICAgICAgICAgIC8vIGxlZ2FsIHNpZ25zXG4gICAgICAgICAgICAnMDBBOScsJzAwQUUnLCAnMjEyMicsIG51bGwsXG4gICAgICAgICAgICAvLyB0ZXh0dWFsIHNpZ25cbiAgICAgICAgICAgICcwMEE3JywnMDBCNicsJzAwQzYnLCcwMEU2JywnMDE1MicsJzAxNTMnLCBudWxsLFxuICAgICAgICAgICAgJzIwMjInLCcyNUNGJywnMjAyMycsJzI1QjYnLCcyQjI5JywnMjVDNicsbnVsbCxcbiAgICAgICAgICAgIC8vbWF0aHNcbiAgICAgICAgICAgICcwMEIxJywnMDBENycsJzAwRjcnLCcyMUQyJywnMjFENCcsJzIyMEYnLCcyMjExJywnMjI0MycsJzIyNjQnLCcyMjY1J1xuIFx0XHQgICAgXVxuICAgIH07XG5cbiAgICAkLmV4dGVuZCh0cnVlLCAkLnRydW1ib3d5Zywge1xuICAgICAgICBsYW5nczoge1xuICAgICAgICAgICAgZW46IHtcbiAgICAgICAgICAgICAgICBzcGVjaWFsQ2hhcnM6ICdTcGVjaWFsIGNoYXJhY3RlcnMnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnI6IHtcbiAgICAgICAgICAgICAgICBzcGVjaWFsQ2hhcnM6ICdDYXJhY3TDqHJlcyBzcMOpY2lhdXgnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICAgIHNwZWNpYWxjaGFyczoge1xuICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICh0cnVtYm93eWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bWJvd3lnLm8ucGx1Z2lucy5zcGVjaWFsY2hhcnMgPSB0cnVtYm93eWcuby5wbHVnaW5zLnNwZWNpYWxjaGFycyB8fCBkZWZhdWx0T3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwZWNpYWxDaGFyc0J0bkRlZiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duOiBidWlsZERyb3Bkb3duKHRydW1ib3d5ZylcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0cnVtYm93eWcuYWRkQnRuRGVmKCdzcGVjaWFsQ2hhcnMnLCBzcGVjaWFsQ2hhcnNCdG5EZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGJ1aWxkRHJvcGRvd24odHJ1bWJvd3lnKSB7XG4gICAgICAgIHZhciBkcm9wZG93biA9IFtdO1xuICAgICAgICB2YXIgaXNOdWxsID0gZmFsc2U7XG4gICAgICAgICQuZWFjaCh0cnVtYm93eWcuby5wbHVnaW5zLnNwZWNpYWxjaGFycy5zeW1ib2xMaXN0LCBmdW5jdGlvbiAoaSwgc3ltYm9sKSB7XG4gICAgICAgICAgICBpZihzeW1ib2wgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHN5bWJvbCA9ICcmbmJzcCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN5bWJvbCA9ICcmI3gnICsgc3ltYm9sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJ0biA9IHN5bWJvbC5yZXBsYWNlKC86L2csICcnKSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0U3ltYm9sQnRuTmFtZSA9ICdzeW1ib2wtJyArIGJ0bixcbiAgICAgICAgICAgICAgICBkZWZhdWx0U3ltYm9sQnRuRGVmID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jb2RlZFN5bWJvbCA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHN5bWJvbC5yZXBsYWNlKFwiJiNcIiwgXCIwXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5leGVjQ21kKCdpbnNlcnRUZXh0JywgZW5jb2RlZFN5bWJvbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRydW1ib3d5Zy5hZGRCdG5EZWYoZGVmYXVsdFN5bWJvbEJ0bk5hbWUsIGRlZmF1bHRTeW1ib2xCdG5EZWYpO1xuICAgICAgICAgICAgZHJvcGRvd24ucHVzaChkZWZhdWx0U3ltYm9sQnRuTmFtZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkcm9wZG93bjtcbiAgICB9XG59KShqUXVlcnkpO1xuIiwiIWZ1bmN0aW9uKG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHMocyl7dmFyIGE9W107cmV0dXJuIG4uZWFjaChzLm8ucGx1Z2lucy5zcGVjaWFsY2hhcnMuc3ltYm9sTGlzdCxmdW5jdGlvbihuLGUpe2U9bnVsbD09PWU/XCImbmJzcFwiOlwiJiN4XCIrZTt2YXIgcj1lLnJlcGxhY2UoLzovZyxcIlwiKSxsPVwic3ltYm9sLVwiK3IsYz17dGV4dDplLGZuOmZ1bmN0aW9uKCl7dmFyIG49U3RyaW5nLmZyb21Db2RlUG9pbnQoZS5yZXBsYWNlKFwiJiNcIixcIjBcIikpO3JldHVybiBzLmV4ZWNDbWQoXCJpbnNlcnRUZXh0XCIsbiksITB9fTtzLmFkZEJ0bkRlZihsLGMpLGEucHVzaChsKX0pLGF9dmFyIGE9e3N5bWJvbExpc3Q6W1wiMDAyNFwiLFwiMjBBQ1wiLFwiMDBBM1wiLFwiMDBBMlwiLFwiMDBBNVwiLFwiMDBBNFwiLFwiMjAzMFwiLG51bGwsXCIwMEE5XCIsXCIwMEFFXCIsXCIyMTIyXCIsbnVsbCxcIjAwQTdcIixcIjAwQjZcIixcIjAwQzZcIixcIjAwRTZcIixcIjAxNTJcIixcIjAxNTNcIixudWxsLFwiMjAyMlwiLFwiMjVDRlwiLFwiMjAyM1wiLFwiMjVCNlwiLFwiMkIyOVwiLFwiMjVDNlwiLG51bGwsXCIwMEIxXCIsXCIwMEQ3XCIsXCIwMEY3XCIsXCIyMUQyXCIsXCIyMUQ0XCIsXCIyMjBGXCIsXCIyMjExXCIsXCIyMjQzXCIsXCIyMjY0XCIsXCIyMjY1XCJdfTtuLmV4dGVuZCghMCxuLnRydW1ib3d5Zyx7bGFuZ3M6e2VuOntzcGVjaWFsQ2hhcnM6XCJTcGVjaWFsIGNoYXJhY3RlcnNcIn0sZnI6e3NwZWNpYWxDaGFyczpcIkNhcmFjdMOocmVzIHNww6ljaWF1eFwifX0scGx1Z2luczp7c3BlY2lhbGNoYXJzOntpbml0OmZ1bmN0aW9uKG4pe24uby5wbHVnaW5zLnNwZWNpYWxjaGFycz1uLm8ucGx1Z2lucy5zcGVjaWFsY2hhcnN8fGE7dmFyIGU9e2Ryb3Bkb3duOnMobil9O24uYWRkQnRuRGVmKFwic3BlY2lhbENoYXJzXCIsZSl9fX19KX0oalF1ZXJ5KTsiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogdHJ1bWJvd3lnLnRhYmxlLmN1c3RvbS5qcyB2Mi4wXG4gKiBUYWJsZSBwbHVnaW4gZm9yIFRydW1ib3d5Z1xuICogaHR0cDovL2FsZXgtZC5naXRodWIuY29tL1RydW1ib3d5Z1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEF1dGhvciA6IFN2ZW4gRHVuZW1hbm4gW2R1bmVtYW5uQGZvcmVsYWJzLmV1XVxuICovXG5cbihmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgcm93czogOCxcbiAgICAgICAgY29sdW1uczogOCxcbiAgICAgICAgc3R5bGVyOiAndGFibGUnXG4gICAgfTtcblxuICAgICQuZXh0ZW5kKHRydWUsICQudHJ1bWJvd3lnLCB7XG4gICAgICAgIGxhbmdzOiB7XG4gICAgICAgICAgICBlbjoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiAnSW5zZXJ0IHRhYmxlJyxcbiAgICAgICAgICAgICAgICB0YWJsZUFkZFJvdzogJ0FkZCByb3cnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkQ29sdW1uOiAnQWRkIGNvbHVtbicsXG4gICAgICAgICAgICAgICAgdGFibGVEZWxldGVSb3c6ICdEZWxldGUgcm93JyxcbiAgICAgICAgICAgICAgICB0YWJsZURlbGV0ZUNvbHVtbjogJ0RlbGV0ZSBjb2x1bW4nLFxuICAgICAgICAgICAgICAgIHRhYmxlRGVzdHJveTogJ0RlbGV0ZSB0YWJsZScsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdFcnJvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYToge1xuICAgICAgICAgICAgICB0YWJsZTogJ0luZHPDpnQgdGFiZWwnLFxuICAgICAgICAgICAgICB0YWJsZUFkZFJvdzogJ1RpbGbDuGogcsOma2tlJyxcbiAgICAgICAgICAgICAgdGFibGVBZGRDb2x1bW46ICdUaWxmw7hqIGtvbG9ubmUnLFxuICAgICAgICAgICAgICB0YWJsZURlbGV0ZVJvdzogJ1NsZXQgcsOma2tlJyxcbiAgICAgICAgICAgICAgdGFibGVEZWxldGVDb2x1bW46ICdTbGV0IGtvbG9ubmUnLFxuICAgICAgICAgICAgICB0YWJsZURlc3Ryb3k6ICdTbGV0IHRhYmVsJyxcbiAgICAgICAgICAgICAgZXJyb3I6ICdGZWpsJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlOiB7XG4gICAgICAgICAgICAgIHRhYmxlOiAnVGFiZWxsZSBlaW5mw7xnZW4nLFxuICAgICAgICAgICAgICB0YWJsZUFkZFJvdzogJ1plaWxlIGhpbnp1ZsO8Z2VuJyxcbiAgICAgICAgICAgICAgdGFibGVBZGRDb2x1bW46ICdTcGFsdGUgaGluenVmw7xnZW4nLFxuICAgICAgICAgICAgICB0YWJsZURlbGV0ZVJvdzogJ1plaWxlIGzDtnNjaGVuJyxcbiAgICAgICAgICAgICAgdGFibGVEZWxldGVDb2x1bW46ICdTcGFsdGUgbMO2c2NoZW4nLFxuICAgICAgICAgICAgICB0YWJsZURlc3Ryb3k6ICdUYWJlbGxlIGzDtnNjaGVuJyxcbiAgICAgICAgICAgICAgZXJyb3I6ICdFcnJvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzazoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiAnVnl0dm9yacWlIHRhYnXEvmt5JyxcbiAgICAgICAgICAgICAgICB0YWJsZUFkZFJvdzogJ1ByaWRhxaUgcmlhZG9rJyxcbiAgICAgICAgICAgICAgICB0YWJsZUFkZENvbHVtbjogJ1ByaWRhxaUgc3TEunBlYycsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdDaHliYSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcjoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiAnSW5zw6lyZXIgdW4gdGFibGVhdScsXG4gICAgICAgICAgICAgICAgdGFibGVBZGRSb3c6ICdBam91dGVyIGRlcyBsaWduZXMnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkQ29sdW1uOiAnQWpvdXRlciBkZXMgY29sb25uZXMnLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnRXJyZXVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNzOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6ICdWeXR2b8WZaXQgcMWZw61rYXogVGFibGUnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkUm93OiAnUMWZaWRhdCDFmcOhZGVrJyxcbiAgICAgICAgICAgICAgICB0YWJsZUFkZENvbHVtbjogJ1DFmWlkYXQgc2xvdXBlYycsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdDaHliYSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydToge1xuICAgICAgICAgICAgICAgIHRhYmxlOiAn0JLRgdGC0LDQstC40YLRjCDRgtCw0LHQu9C40YbRgycsXG4gICAgICAgICAgICAgICAgdGFibGVBZGRSb3c6ICfQlNC+0LHQsNCy0LjRgtGMINGB0YLRgNC+0LrRgycsXG4gICAgICAgICAgICAgICAgdGFibGVBZGRDb2x1bW46ICfQlNC+0LHQsNCy0LjRgtGMINGB0YLQvtC70LHQtdGGJyxcbiAgICAgICAgICAgICAgICB0YWJsZURlbGV0ZVJvdzogJ9Cj0LTQsNC70LjRgtGMINGB0YLRgNC+0LrRgycsXG4gICAgICAgICAgICAgICAgdGFibGVEZWxldGVDb2x1bW46ICfQo9C00LDQu9C40YLRjCDRgdGC0L7Qu9Cx0LXRhicsXG4gICAgICAgICAgICAgICAgdGFibGVEZXN0cm95OiAn0KPQtNCw0LvQuNGC0Ywg0YLQsNCx0LvQuNGG0YMnLFxuICAgICAgICAgICAgICAgIGVycm9yOiAn0J7RiNC40LHQutCwJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGphOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6ICfooajjga7mjL/lhaUnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkUm93OiAn6KGM44Gu6L+95YqgJyxcbiAgICAgICAgICAgICAgICB0YWJsZUFkZENvbHVtbjogJ+WIl+OBrui/veWKoCcsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICfjgqjjg6njg7wnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHI6IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogJ1RhYmxvIGVrbGUnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkUm93OiAnU2F0xLFyIGVrbGUnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkQ29sdW1uOiAnS29sb24gZWtsZScsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdIYXRhJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpoX3R3OiB7XG4gICAgICAgICAgICAgIHRhYmxlOiAn5o+S5YWl6KGo5qC8JyxcbiAgICAgICAgICAgICAgdGFibGVBZGRSb3c6ICfliqDlhaXooYwnLFxuICAgICAgICAgICAgICB0YWJsZUFkZENvbHVtbjogJ+WKoOWFpeWIlycsXG4gICAgICAgICAgICAgIHRhYmxlRGVsZXRlUm93OiAn5Yiq6Zmk6KGMJyxcbiAgICAgICAgICAgICAgdGFibGVEZWxldGVDb2x1bW46ICfliKrpmaTliJcnLFxuICAgICAgICAgICAgICB0YWJsZURlc3Ryb3k6ICfliKrpmaTooajmoLwnLFxuICAgICAgICAgICAgICBlcnJvcjogJ+mMr+iqpCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiAnU2lzaXBrYW4gdGFiZWwnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkUm93OiAnU2lzaXBrYW4gYmFyaXMnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWRkQ29sdW1uOiAnU2lzaXBrYW4ga29sb20nLFxuICAgICAgICAgICAgICAgIHRhYmxlRGVsZXRlUm93OiAnSGFwdXMgYmFyaXMnLFxuICAgICAgICAgICAgICAgIHRhYmxlRGVsZXRlQ29sdW1uOiAnSGFwdXMga29sb20nLFxuICAgICAgICAgICAgICAgIHRhYmxlRGVzdHJveTogJ0hhcHVzIHRhYmVsJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogJ0dhbGF0J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICB0YWJsZToge1xuICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHQuby5wbHVnaW5zLnRhYmxlID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRPcHRpb25zLCB0Lm8ucGx1Z2lucy50YWJsZSB8fCB7fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1aWxkQnV0dG9uRGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5zYXZlUmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuTmFtZSA9ICd0YWJsZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duUHJlZml4ID0gdC5vLnByZWZpeCArICdkcm9wZG93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bk9wdGlvbnMgPSB7IC8vIHRoZSBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IGRyb3Bkb3duUHJlZml4ICsgJy0nICsgYnRuTmFtZSArICcgJyArIGRyb3Bkb3duUHJlZml4ICsgJyAnICsgdC5vLnByZWZpeCArICdmaXhlZC10b3AnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duT3B0aW9uc1snZGF0YS0nICsgZHJvcGRvd25QcmVmaXhdID0gYnRuTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkcm9wZG93biA9ICQoJzxkaXYvPicsIGRyb3Bkb3duT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQuJGJveC5maW5kKFwiLlwiICsgZHJvcGRvd25QcmVmaXggKyBcIi1cIiArIGJ0bk5hbWUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuJGJveC5hcHBlbmQoJGRyb3Bkb3duLmhpZGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRyb3Bkb3duID0gdC4kYm94LmZpbmQoXCIuXCIgKyBkcm9wZG93blByZWZpeCArIFwiLVwiICsgYnRuTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGVhciBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZHJvcGRvd24uaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBhY3RpdmUgdGFibGUgc2hvdyBBZGRSb3cgLyBBZGRDb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQuJGJveC5maW5kKFwiLlwiICsgdC5vLnByZWZpeCArIFwidGFibGUtYnV0dG9uXCIpLmhhc0NsYXNzKHQuby5wcmVmaXggKyAnYWN0aXZlLWJ1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRyb3Bkb3duLmFwcGVuZCh0LmJ1aWxkU3ViQnRuKCd0YWJsZUFkZFJvdycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZHJvcGRvd24uYXBwZW5kKHQuYnVpbGRTdWJCdG4oJ3RhYmxlQWRkQ29sdW1uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkcm9wZG93bi5hcHBlbmQodC5idWlsZFN1YkJ0bigndGFibGVEZWxldGVSb3cnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRyb3Bkb3duLmFwcGVuZCh0LmJ1aWxkU3ViQnRuKCd0YWJsZURlbGV0ZUNvbHVtbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZHJvcGRvd24uYXBwZW5kKHQuYnVpbGRTdWJCdG4oJ3RhYmxlRGVzdHJveScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVTZWxlY3QgPSAkKCc8dGFibGU+PC90YWJsZT4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHQuby5wbHVnaW5zLnRhYmxlLnJvd3M7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9ICQoJzx0cj48L3RyPicpLmFwcGVuZFRvKHRhYmxlU2VsZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdC5vLnBsdWdpbnMudGFibGUuY29sdW1uczsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzx0ZD48L3RkPicpLmFwcGVuZFRvKHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlU2VsZWN0LmZpbmQoJ3RkJykub24oJ21vdXNlb3ZlcicsIHRhYmxlQW5pbWF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVTZWxlY3QuZmluZCgndGQnKS5vbignbW91c2Vkb3duJywgdGFibGVCdWlsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZHJvcGRvd24uYXBwZW5kKHRhYmxlU2VsZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZHJvcGRvd24uYXBwZW5kKCQoJzxjZW50ZXI+MXgxPC9jZW50ZXI+JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5kcm9wZG93bihidG5OYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVBbmltYXRlID0gZnVuY3Rpb24oY29sdW1uX2V2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9ICQoY29sdW1uX2V2ZW50LnRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlID0gY29sdW1uLnBhcmVudHMoJ3RhYmxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gdGhpcy5jZWxsSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0luZGV4ID0gdGhpcy5wYXJlbnROb2RlLnJvd0luZGV4O1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgYWxsIGNvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5maW5kKCd0ZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHJvd0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDw9IGNvbEluZGV4OyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuZmluZChcInRyOm50aC1vZi10eXBlKFwiKyhpKzEpK1wiKVwiKS5maW5kKFwidGQ6bnRoLW9mLXR5cGUoXCIrKGorMSkrXCIpXCIpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5uZXh0KCdjZW50ZXInKS5odG1sKChjb2xJbmRleCsxKSArIFwieFwiICsgKHJvd0luZGV4KzEpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVCdWlsZCA9IGZ1bmN0aW9uKGNvbHVtbl9ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHQuc2F2ZVJhbmdlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVyID0gJCgnPHRhYmxlPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHQuby5wbHVnaW5zLnRhYmxlLnN0eWxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVyLmF0dHIoJ2NsYXNzJywgdC5vLnBsdWdpbnMudGFibGUuc3R5bGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gJChjb2x1bW5fZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sSW5kZXggPSB0aGlzLmNlbGxJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm93SW5kZXggPSB0aGlzLnBhcmVudE5vZGUucm93SW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSByb3dJbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gJCgnPHRyPjwvdHI+JykuYXBwZW5kVG8odGFibGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDw9IGNvbEluZGV4OyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHRkPjwvdGQ+JykuYXBwZW5kVG8ocm93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICB0LnJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgdC5yYW5nZS5pbnNlcnROb2RlKHRhYmxlclswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgdC4kYy50cmlnZ2VyKCd0YndjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWRkUm93ID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0LmxhbmdbJ3RhYmxlQWRkUm93J10sXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogdC5sYW5nWyd0YWJsZUFkZFJvdyddLFxuICAgICAgICAgICAgICAgICAgICAgIGljbzogJ3Jvdy1iZWxvdycsXG5cbiAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zYXZlUmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0LmRvYy5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSAkKG5vZGUpLmNsb3Nlc3QoJ3RhYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9ICQoJzx0cj48L3RyPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29sdW1ucyBhY2NvcmRpbmcgdG8gY3VycmVudCBjb2x1bW5zIGNvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGUuZmluZCgndHInKVswXS5jaGlsZEVsZW1lbnRDb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHRkPjwvdGQ+JykuYXBwZW5kVG8ocm93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgcm93IHRvIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRUbyh0YWJsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWRkQ29sdW1uID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0LmxhbmdbJ3RhYmxlQWRkQ29sdW1uJ10sXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogdC5sYW5nWyd0YWJsZUFkZENvbHVtbiddLFxuICAgICAgICAgICAgICAgICAgICAgIGljbzogJ2NvbC1yaWdodCcsXG5cbiAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zYXZlUmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0LmRvYy5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSAkKG5vZGUpLmNsb3Nlc3QoJ3RhYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0YWJsZSkuZmluZCgndHInKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgndGQ6bGFzdCcpLmFmdGVyKCc8dGQ+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzdHJveSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdC5sYW5nWyd0YWJsZURlc3Ryb3knXSxcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0LmxhbmdbJ3RhYmxlRGVzdHJveSddLFxuICAgICAgICAgICAgICAgICAgICAgIGljbzogJ3RhYmxlLWRlbGV0ZScsXG5cbiAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zYXZlUmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0LmRvYy5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgPSAkKG5vZGUpLmNsb3Nlc3QoJ3RhYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZVJvdyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdC5sYW5nWyd0YWJsZURlbGV0ZVJvdyddLFxuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHQubGFuZ1sndGFibGVEZWxldGVSb3cnXSxcbiAgICAgICAgICAgICAgICAgICAgICBpY286ICdyb3ctZGVsZXRlJyxcblxuICAgICAgICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnNhdmVSYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHQuZG9jLmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cgPSAkKG5vZGUpLmNsb3Nlc3QoJ3RyJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVDb2x1bW4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHQubGFuZ1sndGFibGVEZWxldGVDb2x1bW4nXSxcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0LmxhbmdbJ3RhYmxlRGVsZXRlQ29sdW1uJ10sXG4gICAgICAgICAgICAgICAgICAgICAgaWNvOiAnY29sLWRlbGV0ZScsXG5cbiAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zYXZlUmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0LmRvYy5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgPSAkKG5vZGUpLmNsb3Nlc3QoJ3RhYmxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQgPSAkKG5vZGUpLmNsb3Nlc3QoJ3RkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEluZGV4ID0gdGQuaW5kZXgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0YWJsZSkuZmluZCgndHInKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ3RkOmVxKCcrY2VsbEluZGV4KycpJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHQuYWRkQnRuRGVmKCd0YWJsZScsIGJ1aWxkQnV0dG9uRGVmKTtcbiAgICAgICAgICAgICAgICAgICAgdC5hZGRCdG5EZWYoJ3RhYmxlQWRkUm93JywgYWRkUm93KTtcbiAgICAgICAgICAgICAgICAgICAgdC5hZGRCdG5EZWYoJ3RhYmxlQWRkQ29sdW1uJywgYWRkQ29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgdC5hZGRCdG5EZWYoJ3RhYmxlRGVsZXRlUm93JywgZGVsZXRlUm93KTtcbiAgICAgICAgICAgICAgICAgICAgdC5hZGRCdG5EZWYoJ3RhYmxlRGVsZXRlQ29sdW1uJywgZGVsZXRlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgdC5hZGRCdG5EZWYoJ3RhYmxlRGVzdHJveScsIGRlc3Ryb3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSkoalF1ZXJ5KTtcbiIsIiFmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgdD17cm93czo4LGNvbHVtbnM6OCxzdHlsZXI6XCJ0YWJsZVwifTtlLmV4dGVuZCghMCxlLnRydW1ib3d5Zyx7bGFuZ3M6e2VuOnt0YWJsZTpcIkluc2VydCB0YWJsZVwiLHRhYmxlQWRkUm93OlwiQWRkIHJvd1wiLHRhYmxlQWRkQ29sdW1uOlwiQWRkIGNvbHVtblwiLHRhYmxlRGVsZXRlUm93OlwiRGVsZXRlIHJvd1wiLHRhYmxlRGVsZXRlQ29sdW1uOlwiRGVsZXRlIGNvbHVtblwiLHRhYmxlRGVzdHJveTpcIkRlbGV0ZSB0YWJsZVwiLGVycm9yOlwiRXJyb3JcIn0sZGE6e3RhYmxlOlwiSW5kc8OmdCB0YWJlbFwiLHRhYmxlQWRkUm93OlwiVGlsZsO4aiByw6Zra2VcIix0YWJsZUFkZENvbHVtbjpcIlRpbGbDuGoga29sb25uZVwiLHRhYmxlRGVsZXRlUm93OlwiU2xldCByw6Zra2VcIix0YWJsZURlbGV0ZUNvbHVtbjpcIlNsZXQga29sb25uZVwiLHRhYmxlRGVzdHJveTpcIlNsZXQgdGFiZWxcIixlcnJvcjpcIkZlamxcIn0sZGU6e3RhYmxlOlwiVGFiZWxsZSBlaW5mw7xnZW5cIix0YWJsZUFkZFJvdzpcIlplaWxlIGhpbnp1ZsO8Z2VuXCIsdGFibGVBZGRDb2x1bW46XCJTcGFsdGUgaGluenVmw7xnZW5cIix0YWJsZURlbGV0ZVJvdzpcIlplaWxlIGzDtnNjaGVuXCIsdGFibGVEZWxldGVDb2x1bW46XCJTcGFsdGUgbMO2c2NoZW5cIix0YWJsZURlc3Ryb3k6XCJUYWJlbGxlIGzDtnNjaGVuXCIsZXJyb3I6XCJFcnJvclwifSxzazp7dGFibGU6XCJWeXR2b3JpxaUgdGFidcS+a3lcIix0YWJsZUFkZFJvdzpcIlByaWRhxaUgcmlhZG9rXCIsdGFibGVBZGRDb2x1bW46XCJQcmlkYcWlIHN0xLpwZWNcIixlcnJvcjpcIkNoeWJhXCJ9LGZyOnt0YWJsZTpcIkluc8OpcmVyIHVuIHRhYmxlYXVcIix0YWJsZUFkZFJvdzpcIkFqb3V0ZXIgZGVzIGxpZ25lc1wiLHRhYmxlQWRkQ29sdW1uOlwiQWpvdXRlciBkZXMgY29sb25uZXNcIixlcnJvcjpcIkVycmV1clwifSxjczp7dGFibGU6XCJWeXR2b8WZaXQgcMWZw61rYXogVGFibGVcIix0YWJsZUFkZFJvdzpcIlDFmWlkYXQgxZnDoWRla1wiLHRhYmxlQWRkQ29sdW1uOlwiUMWZaWRhdCBzbG91cGVjXCIsZXJyb3I6XCJDaHliYVwifSxydTp7dGFibGU6XCLQktGB0YLQsNCy0LjRgtGMINGC0LDQsdC70LjRhtGDXCIsdGFibGVBZGRSb3c6XCLQlNC+0LHQsNCy0LjRgtGMINGB0YLRgNC+0LrRg1wiLHRhYmxlQWRkQ29sdW1uOlwi0JTQvtCx0LDQstC40YLRjCDRgdGC0L7Qu9Cx0LXRhlwiLHRhYmxlRGVsZXRlUm93Olwi0KPQtNCw0LvQuNGC0Ywg0YHRgtGA0L7QutGDXCIsdGFibGVEZWxldGVDb2x1bW46XCLQo9C00LDQu9C40YLRjCDRgdGC0L7Qu9Cx0LXRhlwiLHRhYmxlRGVzdHJveTpcItCj0LTQsNC70LjRgtGMINGC0LDQsdC70LjRhtGDXCIsZXJyb3I6XCLQntGI0LjQsdC60LBcIn0samE6e3RhYmxlOlwi6KGo44Gu5oy/5YWlXCIsdGFibGVBZGRSb3c6XCLooYzjga7ov73liqBcIix0YWJsZUFkZENvbHVtbjpcIuWIl+OBrui/veWKoFwiLGVycm9yOlwi44Ko44Op44O8XCJ9LHRyOnt0YWJsZTpcIlRhYmxvIGVrbGVcIix0YWJsZUFkZFJvdzpcIlNhdMSxciBla2xlXCIsdGFibGVBZGRDb2x1bW46XCJLb2xvbiBla2xlXCIsZXJyb3I6XCJIYXRhXCJ9LHpoX3R3Ont0YWJsZTpcIuaPkuWFpeihqOagvFwiLHRhYmxlQWRkUm93Olwi5Yqg5YWl6KGMXCIsdGFibGVBZGRDb2x1bW46XCLliqDlhaXliJdcIix0YWJsZURlbGV0ZVJvdzpcIuWIqumZpOihjFwiLHRhYmxlRGVsZXRlQ29sdW1uOlwi5Yiq6Zmk5YiXXCIsdGFibGVEZXN0cm95Olwi5Yiq6Zmk6KGo5qC8XCIsZXJyb3I6XCLpjK/oqqRcIn0saWQ6e3RhYmxlOlwiU2lzaXBrYW4gdGFiZWxcIix0YWJsZUFkZFJvdzpcIlNpc2lwa2FuIGJhcmlzXCIsdGFibGVBZGRDb2x1bW46XCJTaXNpcGthbiBrb2xvbVwiLHRhYmxlRGVsZXRlUm93OlwiSGFwdXMgYmFyaXNcIix0YWJsZURlbGV0ZUNvbHVtbjpcIkhhcHVzIGtvbG9tXCIsdGFibGVEZXN0cm95OlwiSGFwdXMgdGFiZWxcIixlcnJvcjpcIkdhbGF0XCJ9fSxwbHVnaW5zOnt0YWJsZTp7aW5pdDpmdW5jdGlvbihsKXtsLm8ucGx1Z2lucy50YWJsZT1lLmV4dGVuZCghMCx7fSx0LGwuby5wbHVnaW5zLnRhYmxlfHx7fSk7dmFyIGE9e2ZuOmZ1bmN0aW9uKCl7bC5zYXZlUmFuZ2UoKTt2YXIgdD1cInRhYmxlXCIsYT1sLm8ucHJlZml4K1wiZHJvcGRvd25cIixkPXtcImNsYXNzXCI6YStcIi1cIit0K1wiIFwiK2ErXCIgXCIrbC5vLnByZWZpeCtcImZpeGVkLXRvcFwifTtkW1wiZGF0YS1cIithXT10O3ZhciByPWUoXCI8ZGl2Lz5cIixkKTtpZigwPT09bC4kYm94LmZpbmQoXCIuXCIrYStcIi1cIit0KS5sZW5ndGg/bC4kYm94LmFwcGVuZChyLmhpZGUoKSk6cj1sLiRib3guZmluZChcIi5cIithK1wiLVwiK3QpLHIuaHRtbChcIlwiKSxsLiRib3guZmluZChcIi5cIitsLm8ucHJlZml4K1widGFibGUtYnV0dG9uXCIpLmhhc0NsYXNzKGwuby5wcmVmaXgrXCJhY3RpdmUtYnV0dG9uXCIpKXIuYXBwZW5kKGwuYnVpbGRTdWJCdG4oXCJ0YWJsZUFkZFJvd1wiKSksci5hcHBlbmQobC5idWlsZFN1YkJ0bihcInRhYmxlQWRkQ29sdW1uXCIpKSxyLmFwcGVuZChsLmJ1aWxkU3ViQnRuKFwidGFibGVEZWxldGVSb3dcIikpLHIuYXBwZW5kKGwuYnVpbGRTdWJCdG4oXCJ0YWJsZURlbGV0ZUNvbHVtblwiKSksci5hcHBlbmQobC5idWlsZFN1YkJ0bihcInRhYmxlRGVzdHJveVwiKSk7ZWxzZXtmb3IodmFyIGI9ZShcIjx0YWJsZT48L3RhYmxlPlwiKSxpPTA7aTxsLm8ucGx1Z2lucy50YWJsZS5yb3dzO2krPTEpZm9yKHZhciBzPWUoXCI8dHI+PC90cj5cIikuYXBwZW5kVG8oYiksdT0wO3U8bC5vLnBsdWdpbnMudGFibGUuY29sdW1uczt1Kz0xKWUoXCI8dGQ+PC90ZD5cIikuYXBwZW5kVG8ocyk7Yi5maW5kKFwidGRcIikub24oXCJtb3VzZW92ZXJcIixvKSxiLmZpbmQoXCJ0ZFwiKS5vbihcIm1vdXNlZG93blwiLG4pLHIuYXBwZW5kKGIpLHIuYXBwZW5kKGUoXCI8Y2VudGVyPjF4MTwvY2VudGVyPlwiKSl9bC5kcm9wZG93bih0KX19LG89ZnVuY3Rpb24odCl7dmFyIGw9ZSh0LnRhcmdldCksYT1sLnBhcmVudHMoXCJ0YWJsZVwiKSxvPXRoaXMuY2VsbEluZGV4LG49dGhpcy5wYXJlbnROb2RlLnJvd0luZGV4O2EuZmluZChcInRkXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO2Zvcih2YXIgZD0wO2Q8PW47ZCs9MSlmb3IodmFyIHI9MDtyPD1vO3IrPTEpYS5maW5kKFwidHI6bnRoLW9mLXR5cGUoXCIrKGQrMSkrXCIpXCIpLmZpbmQoXCJ0ZDpudGgtb2YtdHlwZShcIisocisxKStcIilcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7YS5uZXh0KFwiY2VudGVyXCIpLmh0bWwobysxK1wieFwiKyhuKzEpKX0sbj1mdW5jdGlvbih0KXtsLnNhdmVSYW5nZSgpO3ZhciBhPWUoXCI8dGFibGU+PC90YWJsZT5cIik7bC5vLnBsdWdpbnMudGFibGUuc3R5bGVyJiZhLmF0dHIoXCJjbGFzc1wiLGwuby5wbHVnaW5zLnRhYmxlLnN0eWxlcik7Zm9yKHZhciBvPShlKHQudGFyZ2V0KSx0aGlzLmNlbGxJbmRleCksbj10aGlzLnBhcmVudE5vZGUucm93SW5kZXgsZD0wO2Q8PW47ZCs9MSlmb3IodmFyIHI9ZShcIjx0cj48L3RyPlwiKS5hcHBlbmRUbyhhKSxiPTA7Yjw9bztiKz0xKWUoXCI8dGQ+PC90ZD5cIikuYXBwZW5kVG8ocik7bC5yYW5nZS5kZWxldGVDb250ZW50cygpLGwucmFuZ2UuaW5zZXJ0Tm9kZShhWzBdKSxsLiRjLnRyaWdnZXIoXCJ0YndjaGFuZ2VcIil9LGQ9e3RpdGxlOmwubGFuZy50YWJsZUFkZFJvdyx0ZXh0OmwubGFuZy50YWJsZUFkZFJvdyxpY286XCJyb3ctYmVsb3dcIixmbjpmdW5jdGlvbigpe2wuc2F2ZVJhbmdlKCk7dmFyIHQ9bC5kb2MuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlLGE9ZSh0KS5jbG9zZXN0KFwidGFibGVcIik7aWYoYS5sZW5ndGg+MCl7Zm9yKHZhciBvPWUoXCI8dHI+PC90cj5cIiksbj0wO248YS5maW5kKFwidHJcIilbMF0uY2hpbGRFbGVtZW50Q291bnQ7bis9MSllKFwiPHRkPjwvdGQ+XCIpLmFwcGVuZFRvKG8pO28uYXBwZW5kVG8oYSl9cmV0dXJuITB9fSxyPXt0aXRsZTpsLmxhbmcudGFibGVBZGRDb2x1bW4sdGV4dDpsLmxhbmcudGFibGVBZGRDb2x1bW4saWNvOlwiY29sLXJpZ2h0XCIsZm46ZnVuY3Rpb24oKXtsLnNhdmVSYW5nZSgpO3ZhciB0PWwuZG9jLmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZSxhPWUodCkuY2xvc2VzdChcInRhYmxlXCIpO3JldHVybiBhLmxlbmd0aD4wJiZlKGEpLmZpbmQoXCJ0clwiKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5maW5kKFwidGQ6bGFzdFwiKS5hZnRlcihcIjx0ZD48L3RkPlwiKX0pLCEwfX0sYj17dGl0bGU6bC5sYW5nLnRhYmxlRGVzdHJveSx0ZXh0OmwubGFuZy50YWJsZURlc3Ryb3ksaWNvOlwidGFibGUtZGVsZXRlXCIsZm46ZnVuY3Rpb24oKXtsLnNhdmVSYW5nZSgpO3ZhciB0PWwuZG9jLmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZSxhPWUodCkuY2xvc2VzdChcInRhYmxlXCIpO3JldHVybiBhLnJlbW92ZSgpLCEwfX0saT17dGl0bGU6bC5sYW5nLnRhYmxlRGVsZXRlUm93LHRleHQ6bC5sYW5nLnRhYmxlRGVsZXRlUm93LGljbzpcInJvdy1kZWxldGVcIixmbjpmdW5jdGlvbigpe2wuc2F2ZVJhbmdlKCk7dmFyIHQ9bC5kb2MuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlLGE9ZSh0KS5jbG9zZXN0KFwidHJcIik7cmV0dXJuIGEucmVtb3ZlKCksITB9fSxzPXt0aXRsZTpsLmxhbmcudGFibGVEZWxldGVDb2x1bW4sdGV4dDpsLmxhbmcudGFibGVEZWxldGVDb2x1bW4saWNvOlwiY29sLWRlbGV0ZVwiLGZuOmZ1bmN0aW9uKCl7bC5zYXZlUmFuZ2UoKTt2YXIgdD1sLmRvYy5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGUsYT1lKHQpLmNsb3Nlc3QoXCJ0YWJsZVwiKSxvPWUodCkuY2xvc2VzdChcInRkXCIpLG49by5pbmRleCgpO3JldHVybiBlKGEpLmZpbmQoXCJ0clwiKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5maW5kKFwidGQ6ZXEoXCIrbitcIilcIikucmVtb3ZlKCl9KSwhMH19O2wuYWRkQnRuRGVmKFwidGFibGVcIixhKSxsLmFkZEJ0bkRlZihcInRhYmxlQWRkUm93XCIsZCksbC5hZGRCdG5EZWYoXCJ0YWJsZUFkZENvbHVtblwiLHIpLGwuYWRkQnRuRGVmKFwidGFibGVEZWxldGVSb3dcIixpKSxsLmFkZEJ0bkRlZihcInRhYmxlRGVsZXRlQ29sdW1uXCIscyksbC5hZGRCdG5EZWYoXCJ0YWJsZURlc3Ryb3lcIixiKX19fX0pfShqUXVlcnkpOyJdfQ==
